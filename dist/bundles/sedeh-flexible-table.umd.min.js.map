{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","ng://@sedeh/flexible-table/src/app/flexible-table/components/table-headers-generator.ts","ng://@sedeh/flexible-table/src/app/flexible-table/flexible.table.component.ts","ng://@sedeh/flexible-table/src/app/drag-enabled/datatransfer.ts","ng://@sedeh/flexible-table/src/app/drag-enabled/drag.directive.ts","ng://@sedeh/flexible-table/src/app/drag-enabled/drag-only.directive.ts","ng://@sedeh/flexible-table/src/app/drag-enabled/drop.directive.ts","ng://@sedeh/flexible-table/src/app/drag-enabled/dragdrop.module.ts","ng://@sedeh/flexible-table/src/app/flexible-table/components/pagination.component.ts","ng://@sedeh/flexible-table/src/app/flexible-table/components/configuration.component.ts","ng://@sedeh/flexible-table/src/app/flexible-table/components/table.component.ts","ng://@sedeh/flexible-table/src/app/flexible-table/lock.table.component.ts","ng://@sedeh/flexible-table/src/app/flexible-table/flexible-table-module.ts"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","TableHeadersGenerator","this","headers","prototype","generateHeadersFor","root","path","maxVisible","filteringEnabled","_this","keys","map","innerPath","header","value","makeWords","sortable","dragable","present","filter","push","Array","node","retreiveHeaders","trackingkey","result","localStorage","getItem","JSON","parse","undefined","e","persistHeaders","removeItem","setItem","stringify","name","replace","str","toUpperCase","Injectable","FlexibleTableComponent","generator","vocabulary","printTable","configureTable","configureColumns","clickSort","setSize","firstPage","lastPage","previousPage","tableClass","inlinePagination","onaction","EventEmitter","onCellContentEdit","onfilter","onconfigurationchange","ngOnChanges","changes","items","list_1","item","copy","assign","format","v","split","Date","parseFloat","parseInt","formeditems","ngOnInit","persistenceKey","persistenceId","enableFiltering","rowDetailer","expandable","data","pageInfo","to","pageSize","contentSize","pages","from","currentPage","maxWidth","updateLimits","subHeaders","reconfigure","event","emit","onPaginationChange","viewTable","evaluateRows","tableAction","onDrop","onCellEdit","onTableFilter","tslib_1.__decorate","Input","Output","ViewChild","static","Component","selector","template","DataTransfer","setData","getData","DragDirective","dataTransfer","el","dragEffect","dragEnabled","onDragStart","onDragEnd","onDrag","dragStart","stopPropagation","rect","nativeElement","getBoundingClientRect","dragEvent","medium","clientX","clientY","offset","x","left","y","top","effectAllowed","isIE","navigator","userAgent","search","drag","dragEnd","classList","remove","ElementRef","HostListener","Directive","host","[draggable]","DragInDocumentDirective","dragInDocument","DropDirective","dropEffect","dropEnabled","onDragEnter","onDragLeave","onDragOver","createDropEvent","source","destination","drop","preventDefault","dropEvent","dragEnter","add","dragLeave","dragOver","DragDropModule","NgModule","imports","CommonModule","declarations","exports","entryComponents","providers","schemas","CUSTOM_ELEMENTS_SCHEMA","PaginationComponent","nextPage","info","inline","onchange","onready","Math","ceil","setTimeout","ready","setWidth","width","selectFirst","selectNext","selectPrev","selectLast","changeCurrent","ranger","changeSize","sizer","ConfigurationComponent","onprint","checked","enableFilter","print","keyup","which","click","TableViewComponent","dragging","printMode","filteredItems","sortedItems","findColumnWithID","id","list","headerColumnElements","column","getAttribute","swapColumns","parentNode","srcIndex_1","getColumnIndex","desIndex_1","console","log","x_1","sobj","locked","x_2","index","itemValue","hpath","subitem","subkey","initVisibleRows","filtered","lock","sort","icon","h","descending","ascending","hpath_1","filterItems","a","b","v1","v2","offsetWidth","table","element","actionKeys","showIcon","rowDetailerHeaders","children","caption","headerById","columnsCount","count","action","hover","flag","toCssClass","keydown","code","offScreenMessage","message","substring","cellContent","content","String","rowDetailerContext","tableInfo","changeFilter","filterwhiletyping","filteringTimerId","clearTimeout","actionClick","expandIf","expanded","innerHTML","styles","document","getElementsByTagName","popupWin","window","open","copiedContent","outerHTML","write","close","shouldSkipItem","filterBy","f","indexOf","keepItem","onTableCellEdit","n","t","LockTableComponent","renderer","holdlocked","holdunlocked","scroll","setElementStyle","lockedTable","scrollLeft","evaluatePositioning","unlockedTable","lockedHeaders","unlockedHeaders","bind","onlock","changeLockedTableFilteredItems","changeUnlockedTableFilteredItems","Renderer","FlexibleTableModule","IntoPipeModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/*\r\n * This object will traverse through a given json object and finds all the attributes of \r\n * the object and its related associations within the json. The resulting structure would be \r\n * name of attributes and a pathway to reach the attribute deep in object heirarchy.\r\n */\r\n\r\nimport { Injectable } from '@angular/core';\r\n\r\nexport interface VisualizationPoint {\r\n  key: string,\r\n  value: string\r\n}\r\n\r\n@Injectable()\r\nexport class TableHeadersGenerator {\r\n  private headers = [];\r\n\r\n  constructor() {\r\n  }\r\n\r\n  generateHeadersFor(root: {}, path: string, maxVisible: number, filteringEnabled: boolean) {\r\n\r\n    if (root !== null) {\r\n      Object.keys(root).map( (key) => {\r\n        const innerPath = (path.length ? (path + \".\" + key) : key);\r\n  \r\n        if (typeof root[key] === \"string\" || typeof root[key] === \"number\" || typeof root[key] === \"boolean\") {\r\n          const header: any = {\r\n            key: innerPath,\r\n            value: this.makeWords(innerPath),\r\n            sortable: true,\r\n            dragable: true,\r\n            present: (path.length === 0 && this.headers.length < maxVisible)\r\n          }\r\n          if (filteringEnabled) {\r\n            header.filter = \"\";\r\n          }\r\n          this.headers.push(header);\r\n        } else if (root[key] instanceof Array) {\r\n          const node = root[key];\r\n          if (node.length && !(node[0] instanceof Array) && (typeof node[0] !== \"string\")) {\r\n            this.generateHeadersFor(node[0], innerPath, maxVisible, filteringEnabled);\r\n          } else {\r\n            this.headers.push({\r\n              key: innerPath,\r\n              value: this.makeWords(innerPath)\r\n            })\r\n          }\r\n        } else {\r\n          this.generateHeadersFor(root[key], innerPath, maxVisible, filteringEnabled);\r\n        }\r\n      });\r\n    }\r\n    return this.headers;\r\n  }\r\n\r\n  retreiveHeaders(key, trackingkey) {\r\n    let result: any;\r\n    try {\r\n      result = localStorage.getItem(trackingkey);\r\n\r\n      if (!result || result != key) {\r\n        result = undefined; // we have a newer version and it will override saved data.\r\n      } else {\r\n        result = localStorage.getItem(key);\r\n        result = result ? JSON.parse(result) : result;\r\n      }\r\n    } catch (e) {\r\n    }\r\n    return result;\r\n  }\r\n\r\n  persistHeaders(key, trackingkey, headers) {\r\n    try {\r\n      localStorage.removeItem(trackingkey);\r\n      localStorage.setItem(trackingkey, key);\r\n      localStorage.setItem(key, JSON.stringify(headers));\r\n    } catch (e) {\r\n    }\r\n  }\r\n\r\n  private makeWords(name) {\r\n    return name\r\n            .replace(/\\./g,' ~ ')\r\n            .replace(/([A-Z])/g, ' $1')\r\n            .replace(/-/g,\" \")\r\n            .replace(/_/g,\" \")\r\n            .replace(/^./, (str) => str.toUpperCase());\r\n  }\r\n}\r\n","/*\r\n* Provides rendering of a table which is using the given FlexibleTableHeader set in\r\n* order to tabulate the given data. As per definition of earch header component,\r\n* a column could be hidden, sortable, or draggable. Each table row can expand/collapse\r\n* or respond to a click action.\r\n*/\r\nimport {\r\n    Component,\r\n\tInput,\r\n\tOutput,\r\n\tViewChild,\r\n\tOnInit,\r\n\tOnChanges,\r\n\tEventEmitter\r\n} from '@angular/core';\r\n\r\nimport { DropEvent } from '@sedeh/drag-enabled';\r\nimport { TableHeadersGenerator } from './components/table-headers-generator';\r\nimport { TableViewComponent } from './components/table.component';\r\n\r\n@Component({\r\n\tselector: 'flexible-table',\r\n\ttemplateUrl: './flexible.table.component.html',\r\n\tstyleUrls: ['./flexible.table.component.scss']\r\n})\r\nexport class FlexibleTableComponent implements OnInit, OnChanges {\r\n\r\n\tsubHeaders:any;\r\n\tformeditems: any[];\r\n\r\n    @Input(\"vocabulary\")\r\n    public vocabulary = {\r\n\t\tprintTable: \"Print Table\",\r\n\t\tconfigureTable: \"Configure Table\",\r\n\t\tconfigureColumns: \"Configure Columns\",\r\n\t\tclickSort: \"Click to Sort\",\r\n\t\tsetSize: \"Set Size\",\r\n\t\tfirstPage: \"First\",\r\n\t\tlastPage: \"Last\",\r\n\t\tpreviousPage: \"Previous\"\r\n\t};\r\n\t\r\n    @Input(\"persistenceId\")\r\n    public persistenceId: string;\r\n\r\n\t@Input(\"persistenceKey\")\r\n    public persistenceKey: string;\r\n\r\n    @Input(\"caption\")\r\n    public caption: string;\r\n\r\n    @Input(\"action\")\r\n    public action: string;\r\n\r\n    @Input(\"actionKeys\")\r\n    public actionKeys;\r\n\r\n    @Input(\"tableClass\")\r\n    public tableClass = 'default-flexible-table';\r\n\r\n    @Input('inlinePagination')\r\n    inlinePagination = false;\r\n\r\n\t@Input(\"headers\")\r\n\tpublic headers: any[];\r\n\r\n\t@Input(\"items\")\r\n\tpublic items: any[];\r\n\r\n\t@Input(\"pageInfo\")\r\n\tpublic pageInfo: any;\r\n\r\n\t@Input(\"tableInfo\")\r\n\tpublic tableInfo: any;\r\n\r\n    @Input(\"configurable\")\r\n    public configurable: boolean;\r\n\r\n\t@Input(\"configAddon\")\r\n\tpublic configAddon: any;\r\n\r\n\t@Input(\"enableIndexing\")\r\n    public enableIndexing: boolean;\r\n\r\n    @Input(\"enableFiltering\")\r\n    public enableFiltering: boolean;\r\n\r\n    @Input(\"rowDetailer\")\r\n    public rowDetailer: any;\r\n\r\n    @Input(\"expandable\")\r\n    public expandable: any;\r\n\r\n    @Input(\"expandIf\")\r\n    public expandIf: boolean;\r\n\r\n    @Input(\"filterwhiletyping\")\r\n    public filterwhiletyping: boolean;\r\n\r\n    @Input(\"rowDetailerHeaders\")\r\n    public rowDetailerHeaders: any;\r\n\r\n\t@Output('onaction')\r\n\tprivate onaction = new EventEmitter();\r\n\r\n\t@Output('onCellContentEdit')\r\n\tprivate onCellContentEdit = new EventEmitter();\r\n\r\n\t@Output('onfilter')\r\n\tprivate onfilter = new EventEmitter();\r\n\r\n\t@Output('onconfigurationchange')\r\n\tprivate onconfigurationchange = new EventEmitter();\r\n\r\n\t@ViewChild('viewTable', {static: false})\r\n\tviewTable: TableViewComponent;\r\n\r\n    constructor(private generator: TableHeadersGenerator) {}\r\n\r\n\tngOnChanges(changes: any) {\r\n\t\tif (changes.items) {\r\n\t\t\tconst list = [];\r\n\t\t\tthis.items.map(\r\n\t\t\t\t(item: any) => {\r\n\t\t\t\t\tconst copy = Object.assign({}, item);\r\n\t\t\t\t\tthis.headers.map(\r\n\t\t\t\t\t\t(header: any) => {\r\n\t\t\t\t\t\t\tif (header.format) {\r\n\t\t\t\t\t\t\t\tconst v = copy[header.key];\r\n\t\t\t\t\t\t\t\tif (v && typeof v === 'string') {\r\n\t\t\t\t\t\t\t\t\tconst format = header.format.split(':');\r\n\t\t\t\t\t\t\t\t\tif (format[0] === 'calendar') {\r\n\t\t\t\t\t\t\t\t\t\tcopy[header.key] = Date.parse(v);\r\n\t\t\t\t\t\t\t\t\t} else if (format[0] === 'date') {\r\n\t\t\t\t\t\t\t\t\t\tcopy[header.key] = Date.parse(v);\r\n\t\t\t\t\t\t\t\t\t} else if (format[0] === 'number') {\r\n\t\t\t\t\t\t\t\t\t\tcopy[header.key] = format.length > 2 ? parseFloat(v) : parseInt(v, 10);\r\n\t\t\t\t\t\t\t\t\t} else if (format[0] === 'currency') {\r\n\t\t\t\t\t\t\t\t\t\tcopy[header.key] = parseFloat(v.replace(/[^0-9\\.-]+/g,\"\"));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\tlist.push(copy);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\tthis.formeditems = list;\r\n\t\t}\r\n\t}\r\n\tngOnInit() {\r\n\t\tif (this.persistenceKey) {\r\n\t\t\tconst headers:any = this.generator.retreiveHeaders(this.persistenceKey, this.persistenceId);\r\n\r\n\t\t\tif (headers) {\r\n\t\t\t\tthis.headers = headers;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!this.headers || this.headers.length === 0) {\r\n\t\t\tthis.headers = this.generator.generateHeadersFor(this.items[0],\"\", 5, this.enableFiltering);\r\n\t\t\tif (this.persistenceKey) {\r\n\t\t\t\tthis.generator.persistHeaders(this.persistenceKey, this.persistenceId, this.headers);\r\n\t\t\t}\r\n        }\r\n\t\tif (!this.rowDetailer && this.expandable) {\r\n\t\t\tthis.rowDetailer = function(item) {\r\n\t\t\t\treturn {data: item, headers: []};\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (this.pageInfo) {\r\n\t\t\tif (!this.pageInfo.to) {\r\n\t\t\t\tthis.pageInfo.to = this.pageInfo.pageSize;\r\n\t\t\t}\r\n\t\t\tthis.pageInfo.contentSize = this.items.length;\r\n\t\t} else {\r\n\t\t\tthis.pageInfo = {\r\n                contentSize: 100000,\r\n                pageSize: 100000,\r\n                pages: 1,\r\n                from: 0,\r\n                to: 100000,\r\n                currentPage: 1,\r\n                maxWidth: \"0\"\r\n            };\r\n\t\t}\r\n\t\tthis.updateLimits();\r\n\t}\r\n\r\n\tupdateLimits() {\r\n\t\tthis.subHeaders = this.headers.filter( (header) => header.present === true);\r\n\t}\r\n\r\n\treconfigure(event) {\r\n\t\tthis.headers = event;\r\n\t\tthis.updateLimits();\r\n\t\tthis.onconfigurationchange.emit(event);\r\n\r\n\t\tif (this.persistenceKey) {\r\n\t\t\tthis.generator.persistHeaders(this.persistenceKey, this.persistenceId, this.headers);\r\n\t\t}\r\n\t}\r\n\r\n\tonPaginationChange(event) {\r\n\t\tthis.pageInfo = event;\r\n\t\tthis.viewTable.evaluateRows();\r\n\t}\r\n\r\n\ttableAction(event) {\r\n\t\tthis.onaction.emit(event)\r\n\t}\r\n\r\n\tonDrop(event:DropEvent){\r\n\r\n\t}\r\n\tonCellEdit(event){\r\n\t\tthis.onCellContentEdit.emit(event);\r\n\t}\r\n\tonTableFilter(event){\r\n\t\tthis.onfilter.emit(event);\r\n\t}\r\n}\r\n","/*\r\n * The main purpose for this object is to fix the short coming of drag event dataTransfer object.\r\n * It accepts only String values. However, if there is a need to pass an object, this singletoncan \r\n * come to the resecue. \r\n */\r\nimport { Injectable, Inject  } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class DataTransfer {\r\n    \r\n    private data: any = {};\r\n\r\n    constructor() {}\r\n\r\n    setData(name: string, value: any){\r\n        this.data[name] = value;\r\n    }\r\n\r\n    getData(name: string) {\r\n        return this.data[name];\r\n    }\r\n            \r\n}","import {\r\n    Directive,\r\n    ElementRef,\r\n    HostListener,\r\n    Input,\r\n    Output,\r\n    EventEmitter\r\n} from '@angular/core';\r\nimport { DataTransfer } from './datatransfer';\r\nimport { DragEvent } from './drag-drop.interfaces';\r\n\r\n@Directive({\r\n    selector: '[dragEnabled]',\r\n    host: {\r\n        '[draggable]': 'true'\r\n    }\r\n})\r\nexport class DragDirective {\r\n    \r\n    @Input(\"medium\")\r\n    medium: any;\r\n    \r\n    @Input(\"dragEffect\")\r\n    dragEffect = \"move\";\r\n    \r\n    @Input(\"dragEnabled\")\r\n    dragEnabled = (event: DragEvent) => true;\r\n    \r\n    @Output()\r\n    onDragStart: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output()\r\n    onDragEnd: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output()\r\n    onDrag: EventEmitter<any> = new EventEmitter();\r\n    \r\n    private handle: any;\r\n        \r\n    constructor(\r\n        private dataTransfer: DataTransfer,\r\n        private el: ElementRef\r\n    ) {\r\n    }\r\n\r\n    @HostListener('dragstart', ['$event']) \r\n    dragStart(event: any) {\r\n        event.stopPropagation();\r\n\r\n        const rect = this.el.nativeElement.getBoundingClientRect();\r\n        const dragEvent: DragEvent = {\r\n            medium: this.medium,\r\n            node: this.el.nativeElement,\r\n            clientX: event.clientX,\r\n            clientY: event.clientY,\r\n            offset: {\r\n                x: event.clientX - rect.left, \r\n                y: event.clientY - rect.top\r\n            }\r\n        }\r\n        if (this.dragEnabled(dragEvent)) {\r\n            event.dataTransfer.effectAllowed = this.dragEffect;\r\n            if (!this.isIE()) {\r\n                event.dataTransfer.setData(\"makeItTick\",\"true\");// this is needed just to make drag/drop event trigger.\r\n            }\r\n            this.dataTransfer.setData(\"source\", dragEvent);\r\n            this.onDragStart.emit(dragEvent);\r\n        }\r\n    }\r\n    private isIE() {\r\n        const match = navigator.userAgent.search(/(?:Edge|MSIE|Trident\\/.*; rv:)/);\r\n        let isIE = false;\r\n    \r\n        if (match !== -1) {\r\n            isIE = true;\r\n        }\r\n        return isIE;\r\n    }\r\n\r\n    @HostListener('dragover', ['$event']) \r\n    drag(event: any) {\r\n        const dragEvent: DragEvent = this.dataTransfer.getData(\"source\");\r\n\r\n        dragEvent.clientX = event.clientX;\r\n        dragEvent.clientY = event.clientY;\r\n        \r\n        if (this.dragEnabled(dragEvent)) {\r\n            this.onDrag.emit(dragEvent);\r\n        }\r\n    }\r\n    \r\n    @HostListener('dragend', ['$event']) \r\n    dragEnd(event: any) {\r\n        event.stopPropagation();\r\n        const dragEvent: DragEvent = this.dataTransfer.getData(\"source\");        \r\n        this.onDragEnd.emit(dragEvent);\r\n        this.el.nativeElement.classList.remove(\"drag-over\");\r\n    }\r\n}\r\n","/*\r\n * This directive is best suited for dragging an element with confinement of document.  it is not recomended\r\n * to be used in conjunction with a drop operation if an element is to be dropped on another element within \r\n * a heirarchy of nodes.\r\n */\r\nimport {\r\n    Directive,\r\n    ElementRef,\r\n    HostListener,\r\n    Input,\r\n    Output,\r\n    EventEmitter\r\n} from '@angular/core';\r\nimport { DataTransfer } from './datatransfer';\r\nimport { DragEvent } from './drag-drop.interfaces';\r\n\r\n@Directive({\r\n    selector: '[dragInDocument]',\r\n    host: {\r\n        '[draggable]': 'true'\r\n    }\r\n})\r\nexport class DragInDocumentDirective {\r\n    \r\n    @Input(\"medium\")\r\n    medium: any;\r\n    \r\n    @Input(\"dragEffect\")\r\n    dragEffect = \"move\";\r\n    \r\n    @Input(\"dragInDocument\")\r\n    dragInDocument = (event: DragEvent) => true;\r\n    \r\n    @Output()\r\n    onDragStart: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output()\r\n    onDragEnd: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output()\r\n    onDrag: EventEmitter<any> = new EventEmitter();\r\n    \r\n    private handle: any;\r\n        \r\n    constructor(\r\n        private dataTransfer: DataTransfer,\r\n        private el: ElementRef\r\n    ) {\r\n    }\r\n\r\n    @HostListener('dragstart', ['$event']) \r\n    dragStart(event: any) {\r\n        event.stopPropagation();\r\n\r\n        const rect = this.el.nativeElement.getBoundingClientRect();\r\n        const dragEvent: DragEvent = {\r\n            medium: this.medium,\r\n            node: this.el.nativeElement,\r\n            clientX: event.clientX,\r\n            clientY: event.clientY,\r\n            offset: {\r\n                x: event.clientX - rect.left, \r\n                y: event.clientY - rect.top\r\n            }\r\n        }\r\n        if (this.dragInDocument(dragEvent)) {\r\n            event.dataTransfer.effectAllowed = this.dragEffect;\r\n            if (!this.isIE()) {\r\n                event.dataTransfer.setData(\"makeItTick\",\"true\");// this is needed just to make drag/drop event trigger.\r\n            }\r\n            this.dataTransfer.setData(\"source\", dragEvent);\r\n            this.onDragStart.emit(dragEvent);\r\n        }\r\n    }\r\n    private isIE() {\r\n        const match = navigator.userAgent.search(/(?:Edge|MSIE|Trident\\/.*; rv:)/);\r\n        let isIE = false;\r\n    \r\n        if (match !== -1) {\r\n            isIE = true;\r\n        }\r\n        return isIE;\r\n    }\r\n    \r\n    @HostListener('document:dragover', ['$event']) \r\n    drag(event: any) {\r\n        const dragEvent: DragEvent = this.dataTransfer.getData(\"source\");\r\n\r\n        dragEvent.clientX = event.clientX;\r\n        dragEvent.clientY = event.clientY;\r\n        \r\n        if (this.dragInDocument(dragEvent)) {\r\n            this.onDrag.emit(dragEvent);\r\n        }\r\n    }\r\n    \r\n    @HostListener('document:dragend', ['$event']) \r\n    dragEnd(event: any) {\r\n        event.stopPropagation();\r\n        const dragEvent: DragEvent = this.dataTransfer.getData(\"source\");        \r\n        this.onDragEnd.emit(dragEvent);\r\n        this.el.nativeElement.classList.remove(\"drag-over\");\r\n    }\r\n}\r\n","import {\r\n    Directive,\r\n    ElementRef,\r\n    HostListener,\r\n    Input,\r\n    Output,\r\n    EventEmitter\r\n} from '@angular/core';\r\n\r\nimport { DataTransfer } from './datatransfer';\r\nimport { DropEvent } from './drag-drop.interfaces';\r\n\r\n\r\n@Directive({\r\n    selector: '[dropEnabled]'\r\n})\r\nexport class DropDirective {\r\n    \r\n    @Input('medium')\r\n    medium: any;\r\n        \r\n    @Input()\r\n    dropEffect = \"move\";\r\n        \r\n    @Input(\"dropEnabled\")\r\n    dropEnabled = (event: DropEvent) => true;\r\n\r\n    @Output()\r\n    onDragEnter: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output()\r\n    onDragLeave: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output()\r\n    onDrop: EventEmitter<any> = new EventEmitter();\r\n    \r\n    @Output()\r\n    onDragOver: EventEmitter<any> = new EventEmitter();\r\n\r\n    constructor(\r\n        private dataTransfer: DataTransfer,\r\n        private el: ElementRef\r\n    ) {}\r\n    \r\n\tprivate createDropEvent(event: any): DropEvent {\r\n\t\treturn {\r\n            source: this.dataTransfer.getData(\"source\"),\r\n            destination: {\r\n                medium: this.medium,\r\n                node: this.el.nativeElement,\r\n                clientX: event.clientX,\r\n                clientY: event.clientY\r\n            }\r\n\t\t};\r\n\t}\r\n\r\n    @HostListener('drop', ['$event'])\r\n    drop(event: any) {\r\n        event.preventDefault();\r\n        const dropEvent = this.createDropEvent(event);\r\n\r\n        this.el.nativeElement.classList.remove(\"drag-over\");\r\n\r\n        if (this.dropEnabled(dropEvent)) {\r\n            this.onDrop.emit(dropEvent);\r\n        }\r\n    }\r\n    \r\n    @HostListener('dragenter', ['$event']) \r\n    dragEnter(event: any) {\r\n        event.preventDefault();\r\n        const dropEvent = this.createDropEvent(event);\r\n\r\n        if (this.dropEnabled(dropEvent)) {\r\n            event.dataTransfer.dropEffect = this.dropEffect;\r\n\r\n            this.el.nativeElement.classList.add(\"drag-over\");\r\n            this.onDragEnter.emit(dropEvent);\r\n        } else {\r\n            this.el.nativeElement.classList.remove(\"drag-over\");\r\n        }\r\n    }\r\n    \r\n    @HostListener('dragleave', ['$event']) \r\n    dragLeave(event: any) {\r\n        event.preventDefault();\r\n                \r\n        this.el.nativeElement.classList.remove(\"drag-over\");\r\n        this.onDragLeave.emit(event);\r\n    }\r\n    \r\n    @HostListener('dragover', ['$event']) \r\n    dragOver(event: any) {\r\n        const dropEvent = this.createDropEvent(event);\r\n\r\n        if (this.dropEnabled(dropEvent)) {\r\n            event.preventDefault();\r\n            this.el.nativeElement.classList.add(\"drag-over\");\r\n            this.onDragOver.emit(dropEvent);\r\n        } else {\r\n            this.el.nativeElement.classList.remove(\"drag-over\");\r\n        }\r\n    }\r\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { DataTransfer } from './datatransfer';\r\nimport { DragDirective } from './drag.directive';\r\nimport { DragInDocumentDirective } from './drag-only.directive';\r\nimport { DropDirective } from './drop.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n\tCommonModule\r\n  ],\r\n  declarations: [\r\n\tDragDirective,\r\n    DragInDocumentDirective,\r\n\tDropDirective\r\n  ],\r\n  exports: [\r\n\tDragDirective,\r\n\tDragInDocumentDirective,\r\n\tDropDirective\r\n  ],\r\n  entryComponents: [\r\n  ],\r\n  providers: [\r\n    DataTransfer\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class DragDropModule {}\r\n","/*\r\n* Provides pagination of a data set in a table.\r\n*/\r\nimport { Component, Input, Output, EventEmitter, OnInit } from \"@angular/core\";\r\n\r\nexport interface PaginationInfo {\r\n\tcontentSize: number,\r\n\tpageSize: number,\r\n    maxWidth?: string,\r\n\tpages?: number,\r\n\tfrom?: number,\r\n\tto?: number,\r\n\tcurrentPage?: number,\r\n    resetSize?: boolean\r\n}\r\n\r\n@Component({\r\n    selector: 'table-pagination',\r\n\ttemplateUrl: './pagination.component.html',\r\n\tstyleUrls: ['./pagination.component.scss']\r\n})\r\nexport class PaginationComponent implements OnInit {\r\n\r\n    @Input(\"vocabulary\")\r\n    public vocabulary = {setSize: \"\", firstPage: \"\", nextPage: \"\", lastPage: \"\", previousPage: \"\"};\r\n\r\n    @Input(\"info\")\r\n    info: PaginationInfo = { contentSize: 0, pageSize: 0, maxWidth: \"0\" };\r\n\r\n    @Input('inline')\r\n    inline = false;\r\n\r\n\t@Output('onchange')\r\n    onchange = new EventEmitter();\r\n\r\n    @Output('onready')\r\n    onready = new EventEmitter();\r\n\r\n\tngOnInit() {\r\n\t\tif (!this.info) {\r\n\t\t\tthis.info = { \r\n                contentSize: 1000, \r\n                pageSize: 1000, \r\n                pages: 1, \r\n                from: 0, \r\n                to: 1000, \r\n                currentPage: 1, \r\n                maxWidth: \"0\" \r\n            };\r\n\t\t}\r\n\t\tif (this.info.contentSize && this.info.pageSize) {\r\n\t\t\tthis.info.pages = Math.ceil(this.info.contentSize / this.info.pageSize);\r\n\t\t\tthis.info.from = 0;\r\n\t\t\tthis.info.to = this.info.pageSize - 1;\r\n\t\t\tthis.info.currentPage = 1;\r\n\t\t    setTimeout(() => this.ready(), 66);\r\n\t\t}\r\n    }\r\n\r\n    public setWidth(width: number) {\r\n        this.info.maxWidth = width + \"px\";\r\n    }\r\n\r\n    ready() {\r\n        this.onready.emit(this);\r\n        this.onchange.emit(this.info);\r\n    }\r\n\r\n    selectFirst() {\r\n        if (this.info.currentPage > 1) {\r\n\t\t    this.info.from = 0;\r\n\t\t    this.info.to = this.info.from + this.info.pageSize - 1;\r\n\t\t    this.info.currentPage = 1;\r\n            this.onchange.emit(this.info);\r\n        }\r\n   }\r\n\r\n   selectNext() {\r\n        if (this.info.currentPage < this.info.pages) {\r\n \t\tthis.info.from = this.info.to + 1;\r\n\t\tthis.info.to = this.info.from + this.info.pageSize - 1;\r\n\t\tthis.info.currentPage++;\r\n        this.onchange.emit(this.info);\r\n        }\r\n    }\r\n\r\n    selectPrev() {\r\n        if (this.info.currentPage > 1) {\r\n \t\t    this.info.from -= this.info.pageSize;\r\n\t\t    this.info.to = this.info.from + this.info.pageSize - 1;\r\n\t\t    this.info.currentPage--;\r\n            this.onchange.emit(this.info);\r\n        }\r\n    }\r\n\r\n    selectLast() {\r\n        if (this.info.currentPage < this.info.pages) {\r\n\t\t    this.info.from = this.info.pageSize * (this.info.pages - 1);\r\n\t\t    this.info.to = this.info.from + this.info.pageSize - 1;\r\n\t\t    this.info.currentPage = this.info.pages;\r\n            this.onchange.emit(this.info);\r\n        }\r\n    }\r\n\r\n    changeCurrent(ranger: any) {\r\n        const v = parseInt( ranger.value, 10 );\r\n        if (this.info.currentPage < v && v > 0 && v < this.info.pages) {\r\n\t\t    this.info.from = v * (this.info.pageSize - 1);\r\n\t\t    this.info.to = this.info.from + this.info.pageSize - 1;\r\n\t\t    this.info.currentPage = v;\r\n            this.onchange.emit(this.info);\r\n        } else {\r\n            ranger.value = this.info.currentPage;\r\n        }\r\n    }\r\n\r\n    changeSize(sizer: any) {\r\n        const v = parseInt( sizer.value, 10 );\r\n        if (this.info.contentSize >= v && v > 1) {\r\n            this.info.pageSize = v;\r\n \t\t\tthis.info.pages = Math.ceil(this.info.contentSize / v);\r\n            this.info.from = 0;\r\n\t\t\tthis.info.to = this.info.pageSize - 1;\r\n\t\t\tthis.info.currentPage = 1;\r\n            this.onchange.emit(this.info);\r\n        } else {\r\n            sizer.value = this.info.pageSize;\r\n        }\r\n    }\r\n}\r\n","/*\r\n* Provides ability to configure displaying of table columns. As per definition of earch header component,\r\n* a column could be hidden.\r\n*/\r\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n\tselector: 'table-configuration',\r\n\ttemplateUrl: './configuration.component.html',\r\n\tstyleUrls: ['./configuration.component.scss']\r\n})\r\nexport class ConfigurationComponent {\r\n    showConfigurationView: boolean;\r\n\r\n\t@Input(\"title\")\r\n\tpublic title: string;\r\n\r\n\t@Input(\"action\")\r\n\tpublic action: string;\r\n\r\n\t@Input(\"printTable\")\r\n\tpublic printTable: string;\r\n\t\r\n\t@Input(\"headers\")\r\n\tpublic headers: any[];\r\n\r\n\t@Input(\"configAddon\")\r\n\tpublic configAddon: any;\r\n\r\n\t@Output('onchange')\r\n\tprivate onchange = new EventEmitter();\r\n\r\n\t@Output('onprint')\r\n\tprivate onprint = new EventEmitter();\r\n\r\n\treconfigure(item, header) {\r\n        header.present = item.checked;\r\n\t\tthis.onchange.emit(this.headers);\r\n\t}\r\n\r\n\tenableFilter(item, header) {\r\n        if (header.filter === undefined) {\r\n\t\t\theader.filter = \"\";\r\n\t\t} else {\r\n\t\t\tdelete header.filter;\r\n\t\t}\r\n\t\tthis.onchange.emit(this.headers);\r\n\t}\r\n\r\n\tprint(event) {\r\n\t\tthis.onprint.emit(true);\r\n\t}\r\n\r\n    keyup(event) {\r\n        const code = event.which;\r\n        if (code === 13) {\r\n\t\t\tevent.target.click();\r\n\t\t}\r\n    }\r\n}\r\n","/*\r\n* Provides rendering of a table which is using the given FlexibleTableHeader set in\r\n* order to tabulate the given data. As per definition of earch header component,\r\n* a column could be hidden, sortable, or draggable. Each table row can expand/collapse\r\n* or respond to a click action.\r\n*/\r\nimport {\r\n    Component,\r\n\tInput,\r\n\tOutput,\r\n\tViewChild,\r\n\tViewContainerRef,\r\n\tOnInit,\r\n\tOnChanges,\r\n\tEventEmitter,\r\n\tElementRef\r\n} from '@angular/core';\r\n\r\nimport { DropEvent, DragEvent } from '@sedeh/drag-enabled';\r\n\r\nexport interface FlexibleTableHeader {\r\n\tkey: string,\r\n\tvalue: string,\r\n\tpresent: boolean,\r\n\twidth?: string,\r\n\tminwidth?: string,\r\n\tformat?: string,\r\n\thideOnPrint?:boolean,\r\n\tfilter?: string,\r\n\tdragable?: boolean,\r\n\tsortable?: boolean,\r\n\tclass?:string,\r\n\tlocked?:boolean,\r\n\tascending?: boolean,\r\n\tdescending?: boolean\r\n}\r\n\r\n@Component({\r\n\tselector: 'table-view',\r\n\ttemplateUrl: './table.component.html',\r\n\tstyleUrls: ['./table.component.scss']\r\n})\r\nexport class TableViewComponent implements OnInit, OnChanges {\r\n\tdragging = false;\r\n\tprintMode = false;\r\n\tfilteredItems = [];\r\n\tsortedItems = [];\r\n\tfilteringTimerId: any;\r\n\r\n    @Input(\"vocabulary\")\r\n    public vocabulary = {\r\n\t\tconfigureTable: \"Configure Table\",\r\n\t\tconfigureColumns: \"Configure Columns\",\r\n\t\tclickSort: \"Click to Sort\",\r\n\t\tsetSize: \"Set Size\",\r\n\t\tfirstPage: \"First\",\r\n\t\tlastPage: \"Last\",\r\n\t\tpreviousPage: \"Previous\"\r\n\t};\r\n\r\n\t@Input(\"lockable\")\r\n\tlockable:boolean;\r\n\r\n\t@Input(\"caption\")\r\n    public caption: string;\r\n\r\n    @Input(\"action\")\r\n    public action: string;\r\n\r\n    @Input(\"pageInfo\")\r\n    public pageInfo;\r\n\r\n    @Input(\"actionKeys\")\r\n    public actionKeys;\r\n\r\n    @Input(\"tableClass\")\r\n    public tableClass = 'default-flexible-table';\r\n\r\n\t@Input(\"headers\")\r\n\tpublic headers: any[];\r\n\r\n\t@Input(\"items\")\r\n\tpublic items: any[];\r\n\r\n\t@Input(\"tableInfo\")\r\n\tpublic tableInfo: any;\r\n\r\n    @Input(\"enableIndexing\")\r\n    public enableIndexing: boolean;\r\n\r\n    @Input(\"enableFiltering\")\r\n    public enableFiltering: boolean;\r\n\r\n    @Input(\"rowDetailer\")\r\n    public rowDetailer: any;\r\n\r\n    @Input(\"expandable\")\r\n    public expandable: any;\r\n\r\n    @Input(\"expandIf\")\r\n    public expandIf: boolean;\r\n\r\n    @Input(\"filterwhiletyping\")\r\n    public filterwhiletyping: boolean;\r\n\r\n    @Input(\"rowDetailerHeaders\")\r\n    public rowDetailerHeaders: any;\r\n\r\n\t@Output('onaction')\r\n\tprivate onaction = new EventEmitter();\r\n\r\n\t@Output('onchange')\r\n\tprivate onchange = new EventEmitter();\r\n\r\n\t@Output('onfilter')\r\n\tprivate onfilter = new EventEmitter();\r\n\r\n\t@Output('onCellContentEdit')\r\n\tprivate onCellContentEdit = new EventEmitter();\r\n\r\n\t@ViewChild('flexible', {static: false}) private table: ViewContainerRef;\r\n\r\n    constructor(public el:ElementRef) {}\r\n\r\n\r\n\tprivate findColumnWithID(id: string) {\r\n        const list = this.headerColumnElements();\r\n\t\tlet column = null;\r\n\t\tfor (let i = 0; i < list.length; i++) {\r\n\t\t\tif (list[i].getAttribute(\"id\") === id) {\r\n\t\t\t\tcolumn = list[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn column;\r\n\t}\r\n\r\n\tprivate swapColumns(source: any, destination: any) {\r\n\r\n\t\tif (source.node.parentNode === destination.node.parentNode) {\r\n\t\t\tconst srcIndex = this.getColumnIndex(source.medium.key);\r\n\t\t\tconst desIndex = this.getColumnIndex(destination.medium.key);\r\n\t\t\tif (srcIndex < 0 || desIndex < 0) {\r\n\t\t\t\tconsole.log(\"invalid drop id\", source.medium.key, destination.medium.key);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst x = this.filteredItems;\r\n\t\t\tthis.filteredItems = [];\r\n\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tconst sobj = this.headers[srcIndex];\r\n\t\t\t\tthis.headers[srcIndex] = this.headers[desIndex];\r\n\t\t\t\tthis.headers[desIndex] = sobj;\r\n\t\t\t\tthis.filteredItems = x;\r\n\r\n\t\t\t\tthis.onfilter.emit(this.filteredItems);\r\n\t\t\t\tthis.onchange.emit(this.headers);\r\n\t\t\t}, 33);\r\n\t\r\n\t\t} else if (source.medium.locked || destination.medium.locked) {\r\n\t\t\tconst x = this.filteredItems;\r\n\t\t\tthis.filteredItems = [];\r\n\t\t\tthis.onfilter.emit(this.filteredItems);\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tsource.medium.locked = !source.medium.locked;\r\n\t\t\t\tdestination.medium.locked = !destination.medium.locked;\r\n\t\t\t\tthis.filteredItems = x;\r\n\t\t\t\tthis.onfilter.emit(this.filteredItems);\r\n\t\t\t\tthis.onchange.emit(this.headers);\r\n\t\t\t},33);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getColumnIndex(id: string) {\r\n\t\tlet index = -1;\r\n\t\tfor (let i = 0; i < this.headers.length; i++) {\r\n\t\t\tif (this.headers[i].key === id) {\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index;\r\n\t}\r\n\tprivate itemValue(item, hpath) {\r\n\t\tlet subitem = item;\r\n\t\thpath.map( (subkey) => {\r\n\t\t\tif (subitem) {\r\n\t\t\t\tsubitem = subitem[subkey];\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn subitem === undefined || subitem === null || subitem === \"null\" ? \"\" : subitem;\r\n\t}\r\n\tinitVisibleRows(filtered: any[]) {\r\n\t\tconst result = [];\r\n\t\tconst list = filtered ? filtered : this.filteredItems;\r\n\t\tif (this.pageInfo) {\r\n\t\t\tfor (let i = 0; i < list.length; i++) {\r\n\t\t\t\tif (i >= this.pageInfo.from && i <= this.pageInfo.to) {\r\n\t\t\t\t\tresult.push(list[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.filteredItems = result;\r\n\t\t}\r\n\t\tif (filtered) {\r\n\t\t\tthis.onfilter.emit(this.filteredItems);\r\n\t\t}\r\n\t}\r\n\r\n\tlock(header: FlexibleTableHeader, event) {\r\n        event.stopPropagation();\t\r\n        event.preventDefault();\r\n\t\theader.locked = !header.locked;\r\n\t\tthis.onchange.emit(this.headers);\r\n\t}\r\n\tsort(header: FlexibleTableHeader, icon) {\r\n\t\tif (header.sortable && this.items && this.items.length) {\r\n\t\t\tfor (let i = 0; i < this.headers.length ; i++) {\r\n                const h = this.headers[i];\r\n\r\n                if (h.key !== header.key) {\r\n\t\t\t\t\tconst item = this.findColumnWithID(h.key);\r\n\r\n\t\t\t\t\tif (item) {\r\n\t\t\t\t\t\titem.classList.remove(\"ascending\");\r\n\t\t\t\t\t\titem.classList.remove(\"descending\");\r\n\t\t\t\t\t\titem.classList.add(\"sortable\");\r\n\t\t\t\t\t}\r\n                    h.descending = false;\r\n                    h.ascending = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n            icon.classList.remove(\"fa-sort\");\r\n\t\t\tif (header.ascending || (!header.ascending && !header.descending)) {\r\n\t\t\t\theader.descending = true;\r\n\t\t\t\theader.ascending = false;\r\n\t\t\t\ticon.classList.remove(\"fa-sort-asc\");\r\n\t\t\t\ticon.classList.add(\"fa-sort-desc\");\r\n\t\t\t} else {\r\n\t\t\t\theader.descending = false;\r\n\t\t\t\theader.ascending = true;\r\n\t\t\t\ticon.classList.remove(\"fa-sort-desc\");\r\n\t\t\t\ticon.classList.add(\"fa-sort-asc\");\r\n\t\t\t}\r\n\t\t\tconst hpath = header.key.split(\".\");\r\n\t\t\tlet filtered = [];\r\n\t\t\tif (this.enableFiltering) {\r\n\t\t\t\tfiltered = this.filterItems();\r\n\t\t\t} else {\r\n\t\t\t\tfiltered = this.items ? this.items : [];\r\n\t\t\t}\r\n\t\t\tfiltered.sort((a, b) => {\r\n\t\t\t\tconst v1 = this.itemValue(a, hpath);\r\n\t\t\t\tconst v2 = this.itemValue(b, hpath);\r\n\r\n\t\t\t\tif (header.ascending) {\r\n\t\t\t\t\treturn v1 > v2 ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn v1 < v2 ? 1 : -1;\r\n\t\t\t});\r\n\t\t\tthis.sortedItems = filtered;\r\n\t\t\tthis.initVisibleRows(filtered);\r\n\t\t}\r\n\t}\r\n\r\n\toffsetWidth() {\r\n\t\treturn this.table.element.nativeElement.offsetWidth;\r\n\t}\r\n\r\n\tngOnChanges(changes:any) {\r\n\t\t// if (changes.items) {\r\n\t\t// \tthis.evaluateRows();\r\n\t\t// }\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tif (this.pageInfo) {\r\n\t\t\tif (!this.pageInfo.to) {\r\n\t\t\t\tthis.pageInfo.to = this.pageInfo.pageSize;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.pageInfo = { \r\n                contentSize: 100000, \r\n                pageSize: 100000, \r\n                pages: 1, \r\n                from: 0, \r\n                to: 100000, \r\n                currentPage: 1, \r\n                maxWidth: \"0\" \r\n            };\r\n\t\t}\r\n\t\tif (!this.headers) {\r\n\t\t\tthis.headers = [];\r\n\t\t}\r\n\t\tthis.evaluateRows();\r\n        if (this.actionKeys) {\r\n            this.actionKeys = this.actionKeys.split(\",\");\r\n\t\t}\r\n\t\tif (!this.rowDetailer && this.expandable) {\r\n\t\t\tthis.rowDetailer = function(item) {\r\n\t\t\t\treturn {data: item, headers: []};\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (!this.expandable) {\r\n\t\t\tthis.expandable = function(item, showIcon) {return showIcon};\r\n\t\t}\r\n\t\tif (!this.rowDetailerHeaders) {\r\n\t\t\tthis.rowDetailerHeaders = (item) => [];\r\n\t\t}\r\n\t}\r\n\tevaluateRows() {\r\n\t\tlet filtered = [];\r\n\t\tif (this.sortedItems && this.sortedItems.length) {\r\n\t\t\tfiltered =this.sortedItems;\r\n\t\t} else {\r\n\t\t\tif (this.enableFiltering) {\r\n\t\t\t\tfiltered = this.filterItems();\r\n\t\t\t} else {\r\n\t\t\t\tfiltered = this.items ? this.items : [];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.initVisibleRows(filtered);\r\n\t}\r\n\r\n    headerColumnElements() {\r\n\t\tlet result = [];\r\n\r\n\t\tif (this.table.element.nativeElement.children) {\r\n\t\t\tconst list = this.table.element.nativeElement.children;\r\n\t\t\tresult = this.caption ? list[1].children[0].children : list[0].children[0].children;\r\n\t\t}\r\n\t\treturn result;\r\n    }\r\n\r\n\theaderById(id) {\r\n\t\tlet h;\r\n\t\tfor (const i in this.headers) {\r\n\t\t\tif (this.headers[i].key === id) {\r\n\t\t\t\th = this.headers[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn h;\r\n\t}\r\n\r\n    columnsCount() {\r\n\t\tlet count = 0;\r\n\t\tthis.headers.map( (item) => {\r\n            if (item.present) {\r\n                count++;\r\n            }\r\n\t\t});\r\n        if (this.action) {\r\n            count++;\r\n        }\r\n        return count;\r\n\t}\r\n\thover(item, flag) {\r\n\t\tif (flag) {\r\n\t\t\titem.hover = true;\r\n\t\t} else {\r\n\t\t\tdelete item.hover;\r\n\t\t}\r\n\t}\r\n\r\n\ttoCssClass(header) {\r\n\t\treturn header.key.replace(/\\./g,'-');\r\n\t}\r\n    keydown(event, item) {\r\n        const code = event.which;\r\n        if ((code === 13) || (code === 32)) {\r\n\t\t\titem.click();\r\n\t\t}\r\n    }\r\n    offScreenMessage(item) {\r\n\t\tlet message: string = this.action;\r\n\t\tif (this.actionKeys) {\r\n\t\t\tthis.actionKeys.map((key) => { message = message.replace(key, item[key.substring(1, key.length - 1)]); })\r\n\t\t}\r\n        return message;\r\n    }\r\n\r\n    cellContent(item, header) {\r\n\t\tlet content = this.itemValue(item, header.key.split(\".\"));\r\n        return (content !== undefined && content != null && String(content).length) ? content : '&nbsp;';\r\n\t}\r\n\r\n\trowDetailerContext(item) {\r\n\t\treturn {\r\n\t\t\tdata: item,\r\n\t\t\ttableInfo: this.tableInfo,\r\n\t\t\theaders: this.rowDetailerHeaders(item)\r\n\t\t};\r\n\t}\r\n\r\n\tchangeFilter(event, header) {\r\n        const code = event.which;\r\n\r\n\t\theader.filter = event.target.value;\r\n\r\n\t\tif (this.filterwhiletyping || code === 13) {\r\n\t\t\tif(this.filteringTimerId) {\r\n\t\t\t\tclearTimeout(this.filteringTimerId);\r\n\t\t\t}\r\n\t\t\tthis.filteringTimerId = setTimeout(()=>{\r\n\t\t\t\tthis.initVisibleRows(this.filterItems());\r\n\t\t\t\tthis.filteringTimerId  = undefined;\r\n\t\t\t}, 123);\r\n\t\t}\r\n\t}\r\n\tactionClick(event, item: any) {\r\n\t\tevent.stopPropagation();\r\n        if (this.rowDetailer && (this.expandIf || this.expandable(item, false)) ) {\r\n            if (item.expanded) {\r\n                delete item.expanded;\r\n            } else {\r\n                item.expanded = true;\r\n            }\r\n        } else {\r\n            this.onaction.emit(item);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprint() {\r\n\t\tthis.printMode = true;\r\n\t\tsetTimeout(()=>{\r\n\t\t\tconst content = this.el.nativeElement.innerHTML;\r\n\t\t\tconst styles: any = document.getElementsByTagName('style');\r\n\t\t\tthis.printMode = false;\r\n\t\t\tconst popupWin = window.open('', '_blank', 'width=300,height=300');\r\n\t\t\tlet copiedContent = '<html>';\r\n\t\t\tfor(let i = 0; i < styles.length; i++) {\r\n\t\t\t\tcopiedContent += styles[i].outerHTML;\r\n\t\t\t}\r\n\t\t\tcopiedContent += '<body onload=\"window.print()\">' + content + '</html>';\r\n\r\n\t\t\r\n\t\t\tpopupWin.document.open();\r\n        \tpopupWin.document.write(copiedContent);\r\n        \tpopupWin.document.close();\r\n\t\t},3);\r\n\t}\r\n\r\n\t// <5, !5, >5, *E, E*, *E*\r\n\tprivate shouldSkipItem(value, filterBy) {\r\n\t\tlet result = false;\r\n\r\n\t\tif (value !== undefined && value !== null && String(value).length) {\r\n\t\t\tconst v = String(value);\r\n\t\t\tif (filterBy[0] === '<') {\r\n\t\t\t\tresult = filterBy.length > 1 && parseFloat(v) >= parseFloat(filterBy.substring(1));\r\n\t\t\t} else if (filterBy[0] === '>') {\r\n\t\t\t\tresult = filterBy.length > 1 && parseFloat(v) <= parseFloat(filterBy.substring(1));\r\n\t\t\t} else if (filterBy[0] === '!') {\r\n\t\t\t\tresult = filterBy.length > 1 && parseFloat(v) == parseFloat(filterBy.substring(1));\r\n\t\t\t} else if (filterBy[0] === '=') {\r\n\t\t\t\tresult = filterBy.length == 1 || parseFloat(v) !== parseFloat(filterBy.substring(1));\r\n\t\t\t} else if (filterBy[0] === '*' && filterBy[filterBy.length-1] !== '*') {\r\n\t\t\t\tconst f = filterBy.substring(1);\r\n\t\t\t\tresult = v.indexOf(f) !== v.length - f.length\r\n\t\t\t} else if (filterBy[0] !== '*' && filterBy[filterBy.length-1] === '*') {\r\n\t\t\t\tconst f = filterBy.substring(0, filterBy.length-1);\r\n\t\t\t\tresult = v.indexOf(f) !== 0;\r\n\t\t\t} else if (filterBy[0] === '*' && filterBy[filterBy.length-1] === '*') {\r\n\t\t\t\tresult = filterBy.length > 1 && v.indexOf( filterBy.substring(1, filterBy.length-1) ) < 0;\r\n\t\t\t} else {\r\n\t\t\t\tresult = v.indexOf(filterBy) < 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\tfilterItems() {\r\n\t\treturn this.items ? this.items.filter((item) => {\r\n\t\t\tlet keepItem = true;\r\n\r\n\t\t\tfor (let i = 0; i < this.headers.length; i++) {\r\n\t\t\t\tconst header = this.headers[i];\r\n\t\t\t\tif (header.filter && header.filter.length) {\r\n\t\t\t\t\tconst v = this.itemValue(item, header.key.split(\".\"));\r\n\r\n\t\t\t\t\tif (this.shouldSkipItem(v,header.filter)) {\r\n\t\t\t\t\t\tkeepItem = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn keepItem;\r\n\t\t}) : [];\r\n\t}\r\n\r\n\tonTableCellEdit(event) {\r\n\t\tconst id = event.id.split(\"-\");\r\n\t\tconst n = event.name;\r\n\t\tconst v= event.value;\r\n\t\tconst t = this.items[parseInt(id[1])];\r\n\r\n\t\tif (t) {\r\n\t\t\tconst list = id[0].split(\".\");\r\n\t\t\tlet subitem = t[list[0]];\r\n\t\t\tfor(let i = 1; i < (list.length - 1); i++) {\r\n\t\t\t\tsubitem = subitem[list[i]]\r\n\t\t\t}\r\n\t\t\tif (subitem && list.length > 1){\r\n\t\t\t\tsubitem[list[list.length - 1]] = v;\r\n\t\t\t}\r\n\t\t\tthis.onCellContentEdit.emit({name: n, value: v, item: t});\r\n\t\t}\r\n    }\r\n\r\n\tdragEnabled(event: DragEvent) {\r\n\t\treturn event.medium.dragable;\r\n\t}\r\n\tdropEnabled(event: DropEvent) {\r\n\t\treturn event.destination.medium.dragable;\r\n\t}\r\n\tonDragStart(event: DragEvent){\r\n//        this.dragging = true;\r\n\t}\r\n\tonDragEnd(event: DragEvent){\r\n //       this.dragging = false;\r\n\t}\r\n\tonDrop(event:DropEvent){\r\n\t\tthis.swapColumns(event.source, event.destination);\r\n\t}\r\n}\r\n","/*\n* Provides rendering of a table which is using the given FlexibleTableHeader set in\n* order to tabulate the given data. As per definition of earch header component,\n* a column could be hidden, sortable, or draggable. Each table row can expand/collapse\n* or respond to a click action.\n*/\nimport {\n    Component,\n\tInput,\n\tOutput,\n\tViewChild,\n\tOnChanges,\n\tOnInit,\n\tRenderer,\n\tEventEmitter\n} from '@angular/core';\n\nimport { DropEvent, DragEvent } from '@sedeh/drag-enabled';\nimport { TableViewComponent } from './components/table.component';\nimport { TableHeadersGenerator } from './components/table-headers-generator';\n\n@Component({\n\tselector: 'lock-table',\n\ttemplateUrl: './lock.table.component.html',\n\tstyleUrls: ['./lock.table.component.scss']\n})\nexport class LockTableComponent implements OnInit, OnChanges {\n\n\tholdlocked = false;\n\tholdunlocked = false;\n\tlockedHeaders:any;\n\tunlockedHeaders:any;\n\tformeditems:any;\n\tfilteredItems = [];\n\n    @Input(\"vocabulary\")\n    public vocabulary = {\n\t\tconfigureTable: \"Configure Table\",\n\t\tconfigureColumns: \"Configure Columns\",\n\t\tclickSort: \"Click to Sort\",\n\t\tsetSize: \"Set Size\",\n\t\tfirstPage: \"First\",\n\t\tlastPage: \"Last\",\n\t\tpreviousPage: \"Previous\"\n\t};\n\n    @Input(\"persistenceId\")\n    public persistenceId: string;\n\n    @Input(\"persistenceKey\")\n    public persistenceKey: string;\n\n    @Input(\"caption\")\n    public caption: string;\n\n    @Input(\"action\")\n    public action: string;\n\n    @Input(\"actionKeys\")\n    public actionKeys;\n\n    @Input(\"tableClass\")\n    public tableClass = 'default-flexible-table';\n\n\t@Input(\"headers\")\n\tpublic headers: any[];\n\n\t@Input(\"items\")\n\tpublic items: any[];\n\n    @Input('inlinePagination')\n    inlinePagination = false;\n\n\t@Input(\"pageInfo\")\n\tpublic pageInfo: any;\n\n\t@Input(\"tableInfo\")\n\tpublic tableInfo: any;\n\n    @Input(\"configurable\")\n    public configurable: boolean;\n\n\t@Input(\"configAddon\")\n\tpublic configAddon: any;\n\n\t@Input(\"enableFiltering\")\n    public enableFiltering: boolean;\n\n    @Input(\"enableIndexing\")\n    public enableIndexing: boolean;\n\n    @Input(\"filterwhiletyping\")\n    public filterwhiletyping: boolean;\n\n\n\t@Output('onaction')\n\tprivate onaction = new EventEmitter();\n\n\t@Output('onCellContentEdit')\n\tprivate onCellContentEdit = new EventEmitter();\n\n\t@Output('onfilter')\n\tprivate onfilter = new EventEmitter();\n\n\t@Output('onconfigurationchange')\n\tprivate onconfigurationchange = new EventEmitter();\n\n\t@ViewChild('lockedTable', {static: false})\n\tprivate lockedTable: TableViewComponent;\n\n\t@ViewChild('unlockedTable', {static: false})\n\tprivate unlockedTable: TableViewComponent;\n\n    scroll(event) {\n\t\tthis.renderer.setElementStyle(\n\t\t\t\tthis.lockedTable.el.nativeElement,\n\t\t\t\t\"left\",\n\t\t\t\tevent.target.scrollLeft+\"px\");\n\t}\n\n    constructor(\n\t\tprivate generator: TableHeadersGenerator,\n\t\tprivate renderer: Renderer\n\t) {}\n\n\tngOnChanges(changes: any) {\n\t\tif (changes.items) {\n\t\t\tconst list = [];\n\t\t\tthis.items.map(\n\t\t\t\t(item: any) => {\n\t\t\t\t\tconst copy = Object.assign({}, item);\n\t\t\t\t\tthis.headers.map(\n\t\t\t\t\t\t(header: any) => {\n\t\t\t\t\t\t\tif (header.format) {\n\t\t\t\t\t\t\t\tconst v = copy[header.key];\n\t\t\t\t\t\t\t\tif (v && typeof v === 'string') {\n\t\t\t\t\t\t\t\t\tconst format = header.format.split(':');\n\t\t\t\t\t\t\t\t\tif (format[0] === 'calendar') {\n\t\t\t\t\t\t\t\t\t\tcopy[header.key] = Date.parse(v);\n\t\t\t\t\t\t\t\t\t} else if (format[0] === 'date') {\n\t\t\t\t\t\t\t\t\t\tcopy[header.key] = Date.parse(v);\n\t\t\t\t\t\t\t\t\t} else if (format[0] === 'number') {\n\t\t\t\t\t\t\t\t\t\tcopy[header.key] = format.length > 2 ? parseFloat(v) : parseInt(v, 10);\n\t\t\t\t\t\t\t\t\t} else if (format[0] === 'currency') {\n\t\t\t\t\t\t\t\t\t\tcopy[header.key] = parseFloat(v.replace(/[^0-9\\.-]+/g,\"\"));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\tlist.push(copy);\n\t\t\t\t}\n\t\t\t)\n\t\t\tthis.formeditems = list;\n\t\t}\n\t}\n\tngOnInit() {\n\t\tif (this.pageInfo) {\n\t\t\tif (!this.pageInfo.to) {\n\t\t\t\tthis.pageInfo.to = this.pageInfo.pageSize;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.pageInfo = {\n                contentSize: 100000,\n                pageSize: 100000,\n                pages: 1,\n                from: 0,\n                to: 100000,\n                currentPage: 1,\n                maxWidth: \"0\"\n            };\n\t\t}\n\t\tif (this.persistenceKey) {\n\t\t\tconst headers:any = this.generator.retreiveHeaders(this.persistenceKey, this.persistenceId);\n\n\t\t\tif (headers) {\n\t\t\t\tthis.headers = headers;\n\t\t\t}\n\t\t}\n\t\tif (!this.headers) {\n\t\t\tthis.headers = this.generator.generateHeadersFor(this.items[0],\"\", 5, this.enableFiltering);\n\t\t\tif (this.persistenceKey) {\n\t\t\t\tthis.generator.persistHeaders(this.persistenceKey, this.persistenceId, this.headers);\n\t\t\t}\n\t\t}\n\t\tthis.filteredItems = this.formeditems ? this.formeditems: this.items;\n\t\tthis.pageInfo.contentSize = this.items.length;\n\t\t\n\t\tthis.reconfigure(this.headers);\n\n\t}\n\n\tevaluatePositioning() {\n\t\tthis.renderer.setElementStyle(\n\t\t\tthis.unlockedTable.el.nativeElement,\n\t\t\t\"margin-left\",\n\t\t\tthis.lockedTable.offsetWidth()+\"px\");\n\t}\n\n\treconfigure(event) {\n\t\tthis.headers = event;\n\t\tthis.lockedHeaders = this.headers.filter( (item) => item.locked === true && item.present);\n\t\tthis.unlockedHeaders = this.headers.filter( (item) => item.locked !== true  && item.present);\t\n\t\tthis.onconfigurationchange.emit(event);\n\n\t\tif (this.persistenceKey) {\n\t\t\tthis.generator.persistHeaders(this.persistenceKey, this.persistenceId, this.headers);\n\t\t}\n\t\tsetTimeout(this.evaluatePositioning.bind(this),111);\n\t}\n\n\tonlock(event) {\n\t\tthis.lockedHeaders = this.headers.filter( (item) => item.locked === true && item.present);\n\t\tthis.unlockedHeaders = this.headers.filter( (item) => item.locked !== true  && item.present);\t\n\t\tthis.onconfigurationchange.emit(event);\n\n\t\tif (this.persistenceKey) {\n\t\t\tthis.generator.persistHeaders(this.persistenceKey, this.persistenceId, this.headers);\n\t\t}\n\t\tsetTimeout(this.evaluatePositioning.bind(this),111);\n\t}\n\tchangeLockedTableFilteredItems(event) {\n\t\tif (this.lockedTable && !this.holdlocked) {\n\t\t\tthis.lockedTable.filteredItems = event;\n\t\t\tthis.lockedTable.initVisibleRows(null);\n\t\t}\n\t\tthis.holdlocked = false;\n\t}\n\tchangeUnlockedTableFilteredItems(event) {\n\t\tif (this.unlockedTable && !this.holdunlocked) {\n\t\t\tthis.unlockedTable.filteredItems = event;\n\t\t\tthis.unlockedTable.initVisibleRows(null);\n\t\t}\n\t\tthis.holdunlocked = false;\n\t}\n\tonPaginationChange(event) {\n\t\tthis.pageInfo = event;\n\t\tthis.holdlocked = true;\n\t\tthis.holdunlocked = true;\n\t\tthis.lockedTable.evaluateRows();\n\t\tthis.unlockedTable.evaluateRows();\n\t}\n\n\ttableAction(event) {\n\t\tthis.onaction.emit(event)\n\t}\n\n\tonDrop(event:DropEvent){\n\n\t}\n\tonCellEdit(event){\n\t\tthis.onCellContentEdit.emit(event);\n\t}\n\tonTableFilter(event){\n\t\tthis.onfilter.emit(event);\n\t}\n}\n\n","/*\r\n* Provides rendering of flexible table in a lazy load fashion.\r\n*/\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {IntoPipeModule} from '@sedeh/into-pipes';\r\nimport { DragDropModule } from '../drag-enabled/dragdrop.module';\r\n\r\nimport { PaginationComponent } from './components/pagination.component';\r\nimport { ConfigurationComponent } from './components/configuration.component';\r\nimport { TableViewComponent } from './components/table.component';\r\n\r\nimport { TableHeadersGenerator } from './components/table-headers-generator';\r\nimport { FlexibleTableComponent } from './flexible.table.component';\r\nimport { LockTableComponent } from './lock.table.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        DragDropModule,\r\n        IntoPipeModule\r\n    ],\r\n    declarations: [\r\n        FlexibleTableComponent,\r\n        LockTableComponent,\r\n        ConfigurationComponent,\r\n        PaginationComponent,\r\n        TableViewComponent\r\n    ],\r\n    exports: [\r\n        FlexibleTableComponent,\r\n        LockTableComponent\r\n    ],\r\n    entryComponents: [\r\n    ],\r\n    providers: [\r\n        TableHeadersGenerator\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class FlexibleTableModule {}\r\n"]}