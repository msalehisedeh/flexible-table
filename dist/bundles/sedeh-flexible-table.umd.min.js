!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@sedeh/into-pipes")):"function"==typeof define&&define.amd?define("@sedeh/flexible-table",["exports","@angular/core","@angular/common","@sedeh/into-pipes"],t):t(((e=e||self).sedeh=e.sedeh||{},e.sedeh["flexible-table"]={}),e.ng.core,e.ng.common,e["into-pipes"])}(this,(function(e,t,n,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function o(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}var r=function(){function e(){this.headers=[]}return e.prototype.generateHeadersFor=function(e,t,n,i){var o=this;return null!==e&&Object.keys(e).map((function(r){var a=t.length?t+"."+r:r;if("string"==typeof e[r]||"number"==typeof e[r]||"boolean"==typeof e[r]){var l={key:a,value:o.makeWords(a),sortable:!0,dragable:!0,present:0===t.length&&o.headers.length<n};i&&(l.filter=""),o.headers.push(l)}else if(e[r]instanceof Array){var s=e[r];!s.length||s[0]instanceof Array||"string"==typeof s[0]?o.headers.push({key:a,value:o.makeWords(a)}):o.generateHeadersFor(s[0],a,n,i)}else o.generateHeadersFor(e[r],a,n,i)})),this.headers},e.prototype.retreiveHeaders=function(e,t){var n;try{n=(n=localStorage.getItem(t))&&n==e?(n=localStorage.getItem(e))?JSON.parse(n):n:void 0}catch(e){}return n},e.prototype.persistHeaders=function(e,t,n){try{localStorage.removeItem(t),localStorage.setItem(t,e),localStorage.setItem(e,JSON.stringify(n))}catch(e){}},e.prototype.makeWords=function(e){return e.replace(/\./g," ~ ").replace(/([A-Z])/g," $1").replace(/-/g," ").replace(/_/g," ").replace(/^./,(function(e){return e.toUpperCase()}))},e=o([t.Injectable()],e)}(),a=function(){function e(e){this.generator=e,this.vocabulary={printTable:"Print Table",configureTable:"Configure Table",configureColumns:"Configure Columns",clickSort:"Click to Sort",setSize:"Set Size",firstPage:"First",lastPage:"Last",previousPage:"Previous"},this.headerSeparation=!0,this.tableClass="default-flexible-table",this.inlinePagination=!1,this.onaction=new t.EventEmitter,this.onCellContentEdit=new t.EventEmitter,this.onfilter=new t.EventEmitter,this.onconfigurationchange=new t.EventEmitter}return e.prototype.ngOnChanges=function(e){var t=this;if(e.items){var n=[];this.items.map((function(e){var i=Object.assign({},e);t.headers.map((function(e){if(e.format){var t=i[e.key];if(t&&"string"==typeof t){var n=e.format.split(":");"calendar"===n[0]?i[e.key]=Date.parse(t):"date"===n[0]?i[e.key]=Date.parse(t):"number"===n[0]?i[e.key]=n.length>2?parseFloat(t):parseInt(t,10):"currency"===n[0]&&(i[e.key]=parseFloat(t.replace(/[^0-9\.-]+/g,"")))}}})),n.push(i)})),this.formeditems=n}},e.prototype.ngOnInit=function(){if(this.persistenceKey){var e=this.generator.retreiveHeaders(this.persistenceKey,this.persistenceId);e&&(this.headers=e)}this.headers&&0!==this.headers.length||(this.headers=this.generator.generateHeadersFor(this.items[0],"",5,this.enableFiltering),this.persistenceKey&&this.generator.persistHeaders(this.persistenceKey,this.persistenceId,this.headers)),!this.rowDetailer&&this.expandable&&(this.rowDetailer=function(e){return{data:e,headers:[]}}),this.pageInfo?(this.pageInfo.to||(this.pageInfo.to=this.pageInfo.pageSize),this.pageInfo.contentSize=this.items.length):this.pageInfo={contentSize:1e5,pageSize:1e5,pages:1,from:0,to:1e5,currentPage:1,maxWidth:"0"},this.updateLimits()},e.prototype.updateLimits=function(){this.subHeaders=this.headers.filter((function(e){return!0===e.present}))},e.prototype.reconfigure=function(e){this.headers=e,this.updateLimits(),this.onconfigurationchange.emit(e),this.persistenceKey&&this.generator.persistHeaders(this.persistenceKey,this.persistenceId,this.headers)},e.prototype.onPaginationChange=function(e){this.pageInfo=e,this.viewTable.evaluateRows()},e.prototype.tableAction=function(e){this.onaction.emit(e)},e.prototype.onDrop=function(e){},e.prototype.onCellEdit=function(e){this.onCellContentEdit.emit(e)},e.prototype.onTableFilter=function(e){this.onfilter.emit(e)},e.ctorParameters=function(){return[{type:r}]},o([t.Input("vocabulary")],e.prototype,"vocabulary",void 0),o([t.Input()],e.prototype,"headerSeparation",void 0),o([t.Input()],e.prototype,"persistenceId",void 0),o([t.Input()],e.prototype,"persistenceKey",void 0),o([t.Input()],e.prototype,"caption",void 0),o([t.Input()],e.prototype,"action",void 0),o([t.Input()],e.prototype,"actionKeys",void 0),o([t.Input()],e.prototype,"tableClass",void 0),o([t.Input()],e.prototype,"inlinePagination",void 0),o([t.Input()],e.prototype,"headers",void 0),o([t.Input()],e.prototype,"items",void 0),o([t.Input()],e.prototype,"pageInfo",void 0),o([t.Input()],e.prototype,"tableInfo",void 0),o([t.Input()],e.prototype,"configurable",void 0),o([t.Input()],e.prototype,"configAddon",void 0),o([t.Input()],e.prototype,"enableIndexing",void 0),o([t.Input()],e.prototype,"enableFiltering",void 0),o([t.Input()],e.prototype,"rowDetailer",void 0),o([t.Input()],e.prototype,"expandable",void 0),o([t.Input()],e.prototype,"expandIf",void 0),o([t.Input()],e.prototype,"filterwhiletyping",void 0),o([t.Input()],e.prototype,"rowDetailerHeaders",void 0),o([t.Output()],e.prototype,"onaction",void 0),o([t.Output()],e.prototype,"onCellContentEdit",void 0),o([t.Output()],e.prototype,"onfilter",void 0),o([t.Output()],e.prototype,"onconfigurationchange",void 0),o([t.ViewChild("viewTable",{static:!1})],e.prototype,"viewTable",void 0),e=o([t.Component({selector:"flexible-table",template:'\r\n<div class="flexible-table">\r\n    <table-configuration\r\n        *ngIf="configurable && items && items.length"\r\n        class="table-configuration" \r\n        [headers]="headers" \r\n        [title]="vocabulary.configureColumns" \r\n        [printTable]="vocabulary.printTable"\r\n        [action]="vocabulary.configureTable"\r\n        [configAddon]="configAddon"\r\n        (onprint)="viewTable.print()"\r\n        (onchange)="reconfigure($event)"></table-configuration>\r\n        \r\n    <table-view #viewTable\r\n        [action]="action"\r\n        [actionKeys]="actionKeys"\r\n\t\t[tableClass]="tableClass"\r\n\t\t[tableInfo]="tableInfo"\r\n\t\t[caption]="caption" \r\n\t\t[headers]="subHeaders" \r\n        [items]="formeditems" \r\n        [filterwhiletyping]="filterwhiletyping"\r\n\t\t[headerSeparation]="headerSeparation"\r\n        [pageInfo]="pageInfo"\r\n        [vocabulary]="vocabulary"\r\n\t\t[enableIndexing]="enableIndexing"\r\n\t\t[enableFiltering]="enableFiltering"\r\n        [rowDetailer]="rowDetailer"\r\n        [rowDetailerHeaders]="rowDetailerHeaders"\r\n        [expandable]="expandable"\r\n        [expandIf]="expandIf"\r\n        (onDrop)="onDrop($event)"\r\n        (onfilter)="onTableFilter($event)"\r\n\t\t(onCellContentEdit)="onCellEdit($event)"\r\n        (onchange)="reconfigure($event)"\r\n\t\t(onaction)="tableAction($event)"></table-view>\r\n</div>\r\n<table-pagination \r\n    [info]="pageInfo" \r\n    [inline]="inlinePagination" \r\n    [vocabulary]="vocabulary"\r\n    (onchange)="onPaginationChange($event)"></table-pagination>\r\n',styles:[":host{display:inline-block!important;width:100%}.flexible-table{position:relative;margin:0 auto;display:table;border-spacing:0;border-collapse:collapse}.flexible-table .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}.flexible-table table{margin:1rem auto;padding:0;width:100%;table-layout:fixed;max-width:99%;background-color:transparent;border-collapse:collapse}.flexible-table table caption{background-color:#c3e5e2;border-radius:2px;color:#1b1b1b;caption-side:top;font-size:14px;padding:5px 6px;margin-bottom:15px;text-align:left}.flexible-table table thead{border-top:1px solid #bbb;border-bottom:1px solid #bbb;background-color:#eee}.flexible-table table tr{border:0}.flexible-table table tr.expanded td{font-weight:700;border-bottom:0}.flexible-table table td{padding-left:3px}.flexible-table table td:first-child{padding-left:5px}.flexible-table table td .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}.flexible-table table td.index{background-color:#eee;border-right:1px solid #bbb}.flexible-table table th{cursor:default;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none;height:24px;position:relative;white-space:nowrap;font-weight:400;text-transform:uppercase;font-size:14px;padding-top:6px;padding-bottom:6px;text-align:left}.flexible-table table th.drag-over{background-color:#9b9b9b}.flexible-table table th.drag-over .icon,.flexible-table table th.drag-over .title{color:#eee}.flexible-table table th:first-child{padding-left:5px}.flexible-table table th.ascending,.flexible-table table th.descending,.flexible-table table th.sortable{cursor:pointer;height:12px}.flexible-table table th.indexable{width:33px}.flexible-table table th.actionable{width:24px}.flexible-table table th .title{color:#254a4d;display:inline-block;height:20px;white-space:nowrap}.flexible-table table th .dragable{cursor:move}.flexible-table table th .icon{width:22px;display:inline-block;height:20px;color:#254a4d}.flexible-table .fa.fa-angle-right{font-size:18px}.flexible-table table tr.detail td{border-top:0;cursor:default}.flexible-table table tr.expanded td a.expanded{background-position:right 2px}.flexible-table table tbody tr:hover{background-color:#ffeed2}.flexible-table table tbody tr.detail:hover,.flexible-table table tbody tr.detail:hover td table thead tr{background-color:inherit}.flexible-table table tr td a.actionable{display:inline-table;height:32px;vertical-align:middle;width:25px;line-height:30px;color:#254a4d}.flexible-table table tbody tr.detail:hover td:last-child{border-right:0}.flexible-table table tbody tr.detail:hover td:first-child{border-left:0}.flexible-table table tr td{border-bottom:1px solid #b1b3b3;color:#254a5d;font-size:15px;text-transform:capitalize}.flexible-table table tbody tr.pointer{cursor:pointer}.flexible-table table.alert-danger{border:0}.flexible-table table.alert-danger caption{background-color:transparent;font-weight:700;margin-bottom:0}.flexible-table table.alert-danger td{border-bottom:0;display:block}.flexible-table table.alert-danger td:first-child{padding-left:0}.flexible-table table.alert-danger td:last-child{border-bottom:0}.flexible-table table.alert-danger td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase;width:20%}.flexible-table table.alert-danger td a span.icon{width:100%}.flexible-table table.alert-danger thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.flexible-table table.alert-danger tr{border:2px solid #fff;display:block;margin-bottom:.625em;padding:5px;border-radius:5px}.flexible-table table.alert-danger tr th.actionable{width:inherit}.flexible-table table.alert-danger tr td{border-bottom:0}@media screen and (max-width:600px){.flexible-table table{border:0}.flexible-table table td{border-bottom:0;display:block;text-align:right}.flexible-table table td:first-child{padding-left:0}.flexible-table table td:last-child{border-bottom:0}.flexible-table table td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}.flexible-table table td a span.icon{width:100%}.flexible-table table thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.flexible-table table tr{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}.flexible-table table tr th.actionable{width:inherit}.flexible-table table tr td{border-bottom:0}.flexible-table table.alert-danger td:before{width:inherit}}"]})],e)}(),l=function(){function e(){this.data={}}return e.prototype.setData=function(e,t){this.data[e]=t},e.prototype.getData=function(e){return this.data[e]},e=o([t.Injectable()],e)}(),s=function(){function e(e,n){this.dataTransfer=e,this.el=n,this.dragEffect="move",this.dragEnabled=function(e){return!0},this.onDragStart=new t.EventEmitter,this.onDragEnd=new t.EventEmitter,this.onDrag=new t.EventEmitter}return e.prototype.dragStart=function(e){e.stopPropagation();var t=this.el.nativeElement.getBoundingClientRect(),n={medium:this.medium,node:this.el.nativeElement,clientX:e.clientX,clientY:e.clientY,offset:{x:e.clientX-t.left,y:e.clientY-t.top}};this.dragEnabled(n)&&(e.dataTransfer.effectAllowed=this.dragEffect,this.isIE()||e.dataTransfer.setData("makeItTick","true"),this.dataTransfer.setData("source",n),this.onDragStart.emit(n))},e.prototype.isIE=function(){var e=!1;return-1!==navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/)&&(e=!0),e},e.prototype.drag=function(e){var t=this.dataTransfer.getData("source");t.clientX=e.clientX,t.clientY=e.clientY,this.dragEnabled(t)&&this.onDrag.emit(t)},e.prototype.dragEnd=function(e){e.stopPropagation();var t=this.dataTransfer.getData("source");this.onDragEnd.emit(t),this.el.nativeElement.classList.remove("drag-over")},e.ctorParameters=function(){return[{type:l},{type:t.ElementRef}]},o([t.Input("medium")],e.prototype,"medium",void 0),o([t.Input("dragEffect")],e.prototype,"dragEffect",void 0),o([t.Input("dragEnabled")],e.prototype,"dragEnabled",void 0),o([t.Output()],e.prototype,"onDragStart",void 0),o([t.Output()],e.prototype,"onDragEnd",void 0),o([t.Output()],e.prototype,"onDrag",void 0),o([t.HostListener("dragstart",["$event"])],e.prototype,"dragStart",null),o([t.HostListener("dragover",["$event"])],e.prototype,"drag",null),o([t.HostListener("dragend",["$event"])],e.prototype,"dragEnd",null),e=o([t.Directive({selector:"[dragEnabled]",host:{"[draggable]":"true"}})],e)}(),d=function(){function e(e,n){this.dataTransfer=e,this.el=n,this.dragEffect="move",this.dragInDocument=function(e){return!0},this.onDragStart=new t.EventEmitter,this.onDragEnd=new t.EventEmitter,this.onDrag=new t.EventEmitter}return e.prototype.dragStart=function(e){e.stopPropagation();var t=this.el.nativeElement.getBoundingClientRect(),n={medium:this.medium,node:this.el.nativeElement,clientX:e.clientX,clientY:e.clientY,offset:{x:e.clientX-t.left,y:e.clientY-t.top}};this.dragInDocument(n)&&(e.dataTransfer.effectAllowed=this.dragEffect,this.isIE()||e.dataTransfer.setData("makeItTick","true"),this.dataTransfer.setData("source",n),this.onDragStart.emit(n))},e.prototype.isIE=function(){var e=!1;return-1!==navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/)&&(e=!0),e},e.prototype.drag=function(e){var t=this.dataTransfer.getData("source");t.clientX=e.clientX,t.clientY=e.clientY,this.dragInDocument(t)&&this.onDrag.emit(t)},e.prototype.dragEnd=function(e){e.stopPropagation();var t=this.dataTransfer.getData("source");this.onDragEnd.emit(t),this.el.nativeElement.classList.remove("drag-over")},e.ctorParameters=function(){return[{type:l},{type:t.ElementRef}]},o([t.Input("medium")],e.prototype,"medium",void 0),o([t.Input("dragEffect")],e.prototype,"dragEffect",void 0),o([t.Input("dragInDocument")],e.prototype,"dragInDocument",void 0),o([t.Output()],e.prototype,"onDragStart",void 0),o([t.Output()],e.prototype,"onDragEnd",void 0),o([t.Output()],e.prototype,"onDrag",void 0),o([t.HostListener("dragstart",["$event"])],e.prototype,"dragStart",null),o([t.HostListener("document:dragover",["$event"])],e.prototype,"drag",null),o([t.HostListener("document:dragend",["$event"])],e.prototype,"dragEnd",null),e=o([t.Directive({selector:"[dragInDocument]",host:{"[draggable]":"true"}})],e)}(),p=function(){function e(e,n){this.dataTransfer=e,this.el=n,this.dropEffect="move",this.dropEnabled=function(e){return!0},this.onDragEnter=new t.EventEmitter,this.onDragLeave=new t.EventEmitter,this.onDrop=new t.EventEmitter,this.onDragOver=new t.EventEmitter}return e.prototype.createDropEvent=function(e){return{source:this.dataTransfer.getData("source"),destination:{medium:this.medium,node:this.el.nativeElement,clientX:e.clientX,clientY:e.clientY}}},e.prototype.drop=function(e){e.preventDefault();var t=this.createDropEvent(e);this.el.nativeElement.classList.remove("drag-over"),this.dropEnabled(t)&&this.onDrop.emit(t)},e.prototype.dragEnter=function(e){e.preventDefault();var t=this.createDropEvent(e);this.dropEnabled(t)?(e.dataTransfer.dropEffect=this.dropEffect,this.el.nativeElement.classList.add("drag-over"),this.onDragEnter.emit(t)):this.el.nativeElement.classList.remove("drag-over")},e.prototype.dragLeave=function(e){e.preventDefault(),this.el.nativeElement.classList.remove("drag-over"),this.onDragLeave.emit(e)},e.prototype.dragOver=function(e){var t=this.createDropEvent(e);this.dropEnabled(t)?(e.preventDefault(),this.el.nativeElement.classList.add("drag-over"),this.onDragOver.emit(t)):this.el.nativeElement.classList.remove("drag-over")},e.ctorParameters=function(){return[{type:l},{type:t.ElementRef}]},o([t.Input("medium")],e.prototype,"medium",void 0),o([t.Input()],e.prototype,"dropEffect",void 0),o([t.Input("dropEnabled")],e.prototype,"dropEnabled",void 0),o([t.Output()],e.prototype,"onDragEnter",void 0),o([t.Output()],e.prototype,"onDragLeave",void 0),o([t.Output()],e.prototype,"onDrop",void 0),o([t.Output()],e.prototype,"onDragOver",void 0),o([t.HostListener("drop",["$event"])],e.prototype,"drop",null),o([t.HostListener("dragenter",["$event"])],e.prototype,"dragEnter",null),o([t.HostListener("dragleave",["$event"])],e.prototype,"dragLeave",null),o([t.HostListener("dragover",["$event"])],e.prototype,"dragOver",null),e=o([t.Directive({selector:"[dropEnabled]"})],e)}(),h=function(){function e(){}return e=o([t.NgModule({imports:[n.CommonModule],declarations:[s,d,p],exports:[s,d,p],entryComponents:[],providers:[l],schemas:[t.CUSTOM_ELEMENTS_SCHEMA]})],e)}(),c=function(){function e(){this.vocabulary={setSize:"",firstPage:"",nextPage:"",lastPage:"",previousPage:""},this.info={contentSize:0,pageSize:0,maxWidth:"0"},this.inline=!1,this.onchange=new t.EventEmitter,this.onready=new t.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.info||(this.info={contentSize:1e3,pageSize:1e3,pages:1,from:0,to:1e3,currentPage:1,maxWidth:"0"}),this.info.contentSize&&this.info.pageSize&&(this.info.pages=Math.ceil(this.info.contentSize/this.info.pageSize),this.info.from=0,this.info.to=this.info.pageSize-1,this.info.currentPage=1,setTimeout((function(){return e.ready()}),66))},e.prototype.setWidth=function(e){this.info.maxWidth=e+"px"},e.prototype.ready=function(){this.onready.emit(this),this.onchange.emit(this.info)},e.prototype.selectFirst=function(){this.info.currentPage>1&&(this.info.from=0,this.info.to=this.info.from+this.info.pageSize-1,this.info.currentPage=1,this.onchange.emit(this.info))},e.prototype.selectNext=function(){this.info.currentPage<this.info.pages&&(this.info.from=this.info.to+1,this.info.to=this.info.from+this.info.pageSize-1,this.info.currentPage++,this.onchange.emit(this.info))},e.prototype.selectPrev=function(){this.info.currentPage>1&&(this.info.from-=this.info.pageSize,this.info.to=this.info.from+this.info.pageSize-1,this.info.currentPage--,this.onchange.emit(this.info))},e.prototype.selectLast=function(){this.info.currentPage<this.info.pages&&(this.info.from=this.info.pageSize*(this.info.pages-1),this.info.to=this.info.from+this.info.pageSize-1,this.info.currentPage=this.info.pages,this.onchange.emit(this.info))},e.prototype.changeCurrent=function(e){var t=parseInt(e.value,10);this.info.currentPage<t&&t>0&&t<this.info.pages?(this.info.from=t*(this.info.pageSize-1),this.info.to=this.info.from+this.info.pageSize-1,this.info.currentPage=t,this.onchange.emit(this.info)):e.value=this.info.currentPage},e.prototype.changeSize=function(e){var t=parseInt(e.value,10);this.info.contentSize>=t&&t>1?(this.info.pageSize=t,this.info.pages=Math.ceil(this.info.contentSize/t),this.info.from=0,this.info.to=this.info.pageSize-1,this.info.currentPage=1,this.onchange.emit(this.info)):e.value=this.info.pageSize},o([t.Input()],e.prototype,"vocabulary",void 0),o([t.Input()],e.prototype,"info",void 0),o([t.Input()],e.prototype,"inline",void 0),o([t.Output()],e.prototype,"onchange",void 0),o([t.Output()],e.prototype,"onready",void 0),e=o([t.Component({selector:"table-pagination",template:'<div *ngIf="info && info.pages > 1" \r\n    [style.width]="info.maxWidth" \r\n    [class.inliner]="inline"\r\n    [class.floater]="!inline"\r\n    class="table-pagination" #paginationWrapper>\r\n    <div class="fa fa-angle-left"\r\n         (click)="selectPrev()"\r\n         [class.disabled]="info.currentPage==1">\r\n        <span class="prev" [textContent]="vocabulary.previousPage"></span>\r\n    </div>\r\n    <div class="fa fa-angle-double-left"\r\n         (click)="selectFirst()"\r\n         [class.disabled]="info.currentPage==1">\r\n        <span class="first" [textContent]="vocabulary.firstPage"></span>\r\n    </div>\r\n    <div class="current">\r\n        <input  #ranger [value]="info.currentPage" (keydown.Enter)="changeCurrent(ranger)" />\r\n        <span [textContent]="\' / \' + info.pages"></span>\r\n\t</div>\r\n    <div class="fa fa-angle-double-right"\r\n         (click)="selectLast()"\r\n         [class.disabled]="info.currentPage==info.pages">\r\n        <span class="last" [textContent]="vocabulary.lastPage"></span>\r\n    </div>\r\n    <div class="fa fa-angle-right"\r\n         (click)="selectNext()"\r\n         [class.disabled]="info.currentPage==info.pages">\r\n        <span class="next" [textContent]="vocabulary.nextPage"></span>\r\n    </div>\r\n    <div class="reset-size" *ngIf="info.resetSize">\r\n        <label for="pagination-set-size">\r\n            <span class="off-screen" [textContent]="vocabulary.setSize"></span>\r\n            <input id="pagination-set-size" [value]="info.pageSize" (keydown.Enter)="changeSize(sizer)" #sizer />\r\n        </label>\r\n    </div>\r\n</div>\r\n',styles:[".table-pagination{box-sizing:border-box;background-color:#fff;border:1px solid #254a5d;border-radius:2px;color:#254a5d;clear:both;display:flex;font-size:1em;height:38px;max-width:100%;margin:0 auto}.table-pagination.inliner{width:191px;float:right}.table-pagination.floater{position:fixed;left:40%;z-index:55;bottom:5px}.table-pagination .fa{padding:4px 8px;margin-top:5px}.table-pagination .first,.table-pagination .last,.table-pagination .next,.table-pagination .prev{background-repeat:no-repeat;cursor:pointer;width:auto;display:block;height:39px;text-indent:-99999px;box-sizing:border-box}.table-pagination .reset-size{padding:0;height:35px;border-radius:4px}.table-pagination .reset-size input{border:0;border-left:1px solid #4c5854;height:34px;text-align:center;width:30px;margin-right:2px;margin-left:8px}.table-pagination .current{padding:1px 5px}.table-pagination .current input{padding:0 3px;width:14px;height:35px;border:none;text-align:center}.table-pagination .disabled{opacity:.4}@media screen and (max-width:992px){.table-pagination{left:4px}}@media print{:host{display:none}}"]})],e)}(),b=function(){function e(){this.onchange=new t.EventEmitter,this.onprint=new t.EventEmitter}return e.prototype.reconfigure=function(e,t){t.present=e.checked,this.onchange.emit(this.headers)},e.prototype.enableFilter=function(e,t){void 0===t.filter?t.filter="":delete t.filter,this.onchange.emit(this.headers)},e.prototype.print=function(e){this.onprint.emit(!0)},e.prototype.keyup=function(e){13===e.which&&e.target.click()},o([t.Input()],e.prototype,"title",void 0),o([t.Input()],e.prototype,"action",void 0),o([t.Input()],e.prototype,"printTable",void 0),o([t.Input()],e.prototype,"headers",void 0),o([t.Input()],e.prototype,"configAddon",void 0),o([t.Output()],e.prototype,"onchange",void 0),o([t.Output()],e.prototype,"onprint",void 0),e=o([t.Component({selector:"table-configuration",template:'\r\n<div class="shim"\r\n    [style.display]="showConfigurationView ? \'block\':\'none\'"\r\n    (click)="showConfigurationView = !showConfigurationView"></div>\r\n\r\n<a  [attr.tabindex]="0" *ngIf="printTable"\r\n    class="print-table"\r\n    (keyup)="keyup($event)"\r\n    (click)="print($event)">\r\n    <span class="icon fa fa-print" aria-hidden="true"></span>\r\n    <span class="off-screen" [textContent]="print"></span>\r\n</a>\r\n<a  [attr.tabindex]="0"\r\n    class="configure-table"\r\n    (keyup)="keyup($event)"\r\n    (click)="showConfigurationView = !showConfigurationView">\r\n    <span class="icon fa fa-gear" aria-hidden="true"></span>\r\n    <span class="off-screen" [textContent]="action"></span>\r\n</a>\r\n<ng-container *ngIf="configAddon" [ngTemplateOutlet]="configAddon"></ng-container>\r\n\r\n<ul role="list" [style.display]="showConfigurationView ? \'block\':\'none\'">\r\n    <p [textContent]="title"></p>\r\n    <li  *ngFor="let header of headers" role="listitem">\r\n        <label for="{{header.key ? header.key+\'f\':\'f\'}}">\r\n            <input type="checkbox" #filter\r\n                    [id]="header.key ? header.key+\'f\':\'f\'"\r\n                    [checked]="header.filter !== undefined"\r\n                    (keyup)="keyup($event)"\r\n                    (click)="enableFilter(filter, header)" />\r\n            <span>Filter</span>\r\n        </label>\r\n        <label for="{{header.key ? header.key+\'c\':\'c\'}}">\r\n            <input type="checkbox" #checkbox\r\n                    [id]="header.key ? header.key+\'c\':\'c\'"\r\n                    [value]="header.key"\r\n                    [checked]="header.present"\r\n                    (keyup)="keyup($event)"\r\n                    (click)="reconfigure(checkbox, header)" />\r\n            <span>Show</span>\r\n        </label>\r\n        <span class="title" [textContent]="header.value | uppercase"></span>\r\n    </li>\r\n</ul>\r\n',styles:[":host{box-sizing:border-box;padding:2px;position:absolute;right:8px;top:18px;z-index:2}:host a{display:block;float:left;padding:0 0 0 10px;cursor:pointer;z-index:5}:host a .icon{color:#00925b}:host a .off-screen{display:block;text-indent:-9999px;width:0;height:0;overflow:hidden}:host .shim{background-color:rgba(255,255,255,.2);width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:2}:host ul{background-color:#fff;border:1px solid #999;border-radius:4px;display:flex;list-style:none;max-height:200px;margin:0 2px;min-width:200px;overflow-y:auto;position:absolute;padding:0 0 8px;right:0;box-shadow:6px 8px 6px -6px #1b1b1b;z-index:6}:host ul p{margin:0;padding:1px 5px;background-color:#5f9ea0;color:#fff}:host ul li{white-space:nowrap;text-align:left;flex-direction:row;padding:1px 5px}:host ul li label input{flex:0 0 30%;margin-top:4px}:host ul li .title{flex:0 0 30%;font-weight:700}@media print{:host{display:none}}"]})],e)}(),f=function(){function e(e){this.el=e,this.dragging=!1,this.printMode=!1,this.filteredItems=[],this.sortedItems=[],this.vocabulary={configureTable:"Configure Table",configureColumns:"Configure Columns",clickSort:"Click to Sort",setSize:"Set Size",firstPage:"First",lastPage:"Last",previousPage:"Previous"},this.headerSeparation=!0,this.tableClass="default-flexible-table",this.onaction=new t.EventEmitter,this.onchange=new t.EventEmitter,this.onfilter=new t.EventEmitter,this.onCellContentEdit=new t.EventEmitter}return e.prototype.findColumnWithID=function(e){for(var t=this.headerColumnElements(),n=null,i=0;i<t.length;i++)if(t[i].getAttribute("id")===e){n=t[i];break}return n},e.prototype.swapColumns=function(e,t){var n=this;if(e.node.parentNode===t.node.parentNode){var i=this.getColumnIndex(e.medium.key),o=this.getColumnIndex(t.medium.key);if(i<0||o<0)return void console.log("invalid drop id",e.medium.key,t.medium.key);var r=this.filteredItems;this.filteredItems=[],setTimeout((function(){var e=n.headers[i];n.headers[i]=n.headers[o],n.headers[o]=e,n.filteredItems=r,n.onfilter.emit(n.filteredItems),n.onchange.emit(n.headers)}),33)}else if(e.medium.locked||t.medium.locked){var a=this.filteredItems;this.filteredItems=[],this.onfilter.emit(this.filteredItems),setTimeout((function(){e.medium.locked=!e.medium.locked,t.medium.locked=!t.medium.locked,n.filteredItems=a,n.onfilter.emit(n.filteredItems),n.onchange.emit(n.headers)}),33)}},e.prototype.getColumnIndex=function(e){for(var t=-1,n=0;n<this.headers.length;n++)if(this.headers[n].key===e){t=n;break}return t},e.prototype.itemValue=function(e,t){var n=e;return t.map((function(e){n&&(n=n[e])})),null==n||"null"===n?"":n},e.prototype.initVisibleRows=function(e){var t=[],n=e||this.filteredItems;if(this.pageInfo){for(var i=0;i<n.length;i++)i>=this.pageInfo.from&&i<=this.pageInfo.to&&t.push(n[i]);this.filteredItems=t}e&&this.onfilter.emit(this.filteredItems)},e.prototype.lock=function(e,t){t.stopPropagation(),t.preventDefault(),e.locked=!e.locked,this.onchange.emit(this.headers)},e.prototype.sort=function(e,t){var n=this;if(e.sortable&&this.items&&this.items.length){for(var i=0;i<this.headers.length;i++){var o=this.headers[i];if(o.key!==e.key){var r=this.findColumnWithID(o.key);r&&(r.classList.remove("ascending"),r.classList.remove("descending"),r.classList.add("sortable")),o.descending=!1,o.ascending=!1}}t.classList.remove("fa-sort"),e.ascending||!e.ascending&&!e.descending?(e.descending=!0,e.ascending=!1,t.classList.remove("fa-sort-asc"),t.classList.add("fa-sort-desc")):(e.descending=!1,e.ascending=!0,t.classList.remove("fa-sort-desc"),t.classList.add("fa-sort-asc"));var a=e.key.split("."),l=[];(l=this.enableFiltering?this.filterItems():this.items?this.items:[]).sort((function(t,i){var o=n.itemValue(t,a),r=n.itemValue(i,a);return e.ascending?o>r?1:-1:o<r?1:-1})),this.sortedItems=l,this.initVisibleRows(l)}},e.prototype.offsetWidth=function(){return this.table.nativeElement.offsetWidth},e.prototype.ngOnChanges=function(e){},e.prototype.ngOnInit=function(){this.pageInfo?this.pageInfo.to||(this.pageInfo.to=this.pageInfo.pageSize):this.pageInfo={contentSize:1e5,pageSize:1e5,pages:1,from:0,to:1e5,currentPage:1,maxWidth:"0"},this.headers||(this.headers=[]),this.evaluateRows(),this.actionKeys&&(this.actionKeys=this.actionKeys.split(",")),!this.rowDetailer&&this.expandable&&(this.rowDetailer=function(e){return{data:e,headers:[]}}),this.expandable||(this.expandable=function(e,t){return t}),this.rowDetailerHeaders||(this.rowDetailerHeaders=function(e){return[]})},e.prototype.evaluateRows=function(){var e=[];e=this.sortedItems&&this.sortedItems.length?this.sortedItems:this.enableFiltering?this.filterItems():this.items?this.items:[],this.initVisibleRows(e)},e.prototype.headerColumnElements=function(){var e=[];if(this.table.nativeElement.children){var t=this.table.nativeElement.children;e=this.caption?t[1].children[0].children:t[0].children[0].children}return e},e.prototype.headerById=function(e){var t;for(var n in this.headers)if(this.headers[n].key===e){t=this.headers[n];break}return t},e.prototype.columnsCount=function(){var e=0;return this.headers.map((function(t){t.present&&e++})),this.action&&e++,e},e.prototype.hover=function(e,t){t?e.hover=!0:delete e.hover},e.prototype.toCssClass=function(e){return e.key.replace(/\./g,"-")},e.prototype.keydown=function(e,t){var n=e.which;13!==n&&32!==n||t.click()},e.prototype.offScreenMessage=function(e){var t=this.action;return this.actionKeys&&this.actionKeys.map((function(n){t=t.replace(n,e[n.substring(1,n.length-1)])})),t},e.prototype.cellContent=function(e,t){var n=this.itemValue(e,t.key.split("."));return void 0!==n&&null!=n&&String(n).length?n:"&nbsp;"},e.prototype.rowDetailerContext=function(e){return{data:e,tableInfo:this.tableInfo,headers:this.rowDetailerHeaders(e)}},e.prototype.changeFilter=function(e,t){var n=this,i=e.which;t.filter=e.target.value,(this.filterwhiletyping||13===i)&&(this.filteringTimerId&&clearTimeout(this.filteringTimerId),this.filteringTimerId=setTimeout((function(){n.initVisibleRows(n.filterItems()),n.filteringTimerId=void 0}),123))},e.prototype.actionClick=function(e,t){return e.stopPropagation(),this.rowDetailer&&(this.expandIf||this.expandable(t,!1))?t.expanded?delete t.expanded:t.expanded=!0:this.onaction.emit(t),!1},e.prototype.print=function(){var e=this;this.printMode=!0,setTimeout((function(){var t=e.el.nativeElement.innerHTML,n=document.getElementsByTagName("style");e.printMode=!1;for(var i=window.open("","_blank","width=300,height=300"),o="<html>",r=0;r<n.length;r++)o+=n[r].outerHTML;o+='<body onload="window.print()">'+t+"</html>",i.document.open(),i.document.write(o),i.document.close()}),3)},e.prototype.shouldSkipItem=function(e,t){var n=!1;if(null!=e&&String(e).length){var i=String(e);if("<"===t[0])n=t.length>1&&parseFloat(i)>=parseFloat(t.substring(1));else if(">"===t[0])n=t.length>1&&parseFloat(i)<=parseFloat(t.substring(1));else if("!"===t[0])n=t.length>1&&parseFloat(i)==parseFloat(t.substring(1));else if("="===t[0])n=1==t.length||parseFloat(i)!==parseFloat(t.substring(1));else if("*"===t[0]&&"*"!==t[t.length-1]){var o=t.substring(1);n=i.indexOf(o)!==i.length-o.length}else if("*"!==t[0]&&"*"===t[t.length-1]){o=t.substring(0,t.length-1);n=0!==i.indexOf(o)}else n="*"===t[0]&&"*"===t[t.length-1]?t.length>1&&i.indexOf(t.substring(1,t.length-1))<0:i.indexOf(t)<0}return n},e.prototype.filterItems=function(){var e=this;return this.items?this.items.filter((function(t){for(var n=!0,i=0;i<e.headers.length;i++){var o=e.headers[i];if(o.filter&&o.filter.length){var r=e.itemValue(t,o.key.split("."));if(e.shouldSkipItem(r,o.filter)){n=!1;break}}}return n})):[]},e.prototype.onTableCellEdit=function(e){var t=e.id.split("-"),n=e.name,i=e.value,o=this.items[parseInt(t[1])];if(o){for(var r=t[0].split("."),a=o[r[0]],l=1;l<r.length-1;l++)a=a[r[l]];a&&r.length>1&&(a[r[r.length-1]]=i),this.onCellContentEdit.emit({name:n,value:i,item:o})}},e.prototype.dragEnabled=function(e){return e.medium.dragable},e.prototype.dropEnabled=function(e){return e.destination.medium.dragable},e.prototype.onDragStart=function(e){},e.prototype.onDragEnd=function(e){},e.prototype.onDrop=function(e){this.swapColumns(e.source,e.destination)},e.ctorParameters=function(){return[{type:t.ElementRef}]},o([t.Input("vocabulary")],e.prototype,"vocabulary",void 0),o([t.Input()],e.prototype,"headerSeparation",void 0),o([t.Input()],e.prototype,"lockable",void 0),o([t.Input()],e.prototype,"caption",void 0),o([t.Input()],e.prototype,"action",void 0),o([t.Input()],e.prototype,"pageInfo",void 0),o([t.Input()],e.prototype,"actionKeys",void 0),o([t.Input()],e.prototype,"tableClass",void 0),o([t.Input()],e.prototype,"headers",void 0),o([t.Input()],e.prototype,"items",void 0),o([t.Input()],e.prototype,"tableInfo",void 0),o([t.Input()],e.prototype,"enableIndexing",void 0),o([t.Input()],e.prototype,"enableFiltering",void 0),o([t.Input()],e.prototype,"rowDetailer",void 0),o([t.Input()],e.prototype,"expandable",void 0),o([t.Input()],e.prototype,"expandIf",void 0),o([t.Input()],e.prototype,"filterwhiletyping",void 0),o([t.Input()],e.prototype,"rowDetailerHeaders",void 0),o([t.Output()],e.prototype,"onaction",void 0),o([t.Output()],e.prototype,"onchange",void 0),o([t.Output()],e.prototype,"onfilter",void 0),o([t.Output()],e.prototype,"onCellContentEdit",void 0),o([t.ViewChild("flexible",{static:!1})],e.prototype,"table",void 0),e=o([t.Component({selector:"table-view",template:'\r\n<table [class]="tableClass"  #flexible>\r\n    <caption *ngIf="caption" [textContent]="caption"></caption>\r\n    <thead>\r\n        <tr>\r\n            <th scope="col" *ngIf="enableIndexing && !printMode" id="indexable" class="indexable hide-on-print"></th>\r\n            <th scope="col" *ngFor="let header of headers; let hh = index" #th\r\n                [dragEnabled]="dragEnabled.bind(this)"\r\n                [dropEnabled]="dropEnabled.bind(this)"\r\n                [medium]="header"\r\n                (onDragStart)="onDragStart($event)"\r\n                (onDragEnd)="onDragEnd($event)"\r\n                (onDrop)="onDrop($event)"\r\n                [id]="header.key"\r\n                [attr.width]="header.width ? header.width : null" \r\n                [style.min-width]="header.minwidth ? header.minwidth : \'\'" \r\n                [attr.tabindex]="header.sortable ? 0 : -1"\r\n                [class.hide-on-print]="header.hideOnPrint"\r\n                [class.distict]="headerSeparation && hh < (headers.length -1)"\r\n                (keydown)="keydown($event, th)" (click)="sort(header, icon)">\r\n                <span \r\n                    *ngIf="!printMode && header.sortable" \r\n                    class="off-screen"  \r\n                    [textContent]="vocabulary.clickSort"></span>\r\n                <span class="locker icon fa" #locker\r\n                    *ngIf="!printMode && lockable && (headers.length > 1 || header.locked)"\r\n                    tabindex="0"\r\n                    title="lock/unlock this column"\r\n                    (keydown)="keydown($event, locker)" (click)="lock(header, $event)"\r\n                    [class.fa-lock]="header.locked"\r\n                    [class.fa-unlock]="!header.locked"></span>\r\n                <span class="title"\r\n                    [class.lockable]="lockable"\r\n                    [class.dragable]="header.dragable"\r\n                    [textContent]="header.value"></span>\r\n                <span class="icon fa" [class.hidden]="printMode || !items || items.length === 0" #icon\r\n                    [class.fa-sort]="header.sortable"\r\n                    [class.fa-sort-asc]="header.assending"\r\n                    [class.fa-sort-desc]="header.desending"></span>\r\n            </th>\r\n            <th scope="col" *ngIf="action && !printMode" id="actionable" class="actionable hide-on-print"></th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngIf="!printMode && enableFiltering && items && items.length" class="hide-on-print">\r\n            <td scope="row" *ngIf="enableIndexing && !printMode" class="index filter hide-on-print">\r\n                <input type="text" disabled style="opacity:0" />\r\n            </td>\r\n            <td scope="row" \r\n                        *ngFor="let header of headers; let i=index" \r\n                        [attr.data-label]="header.value" \r\n                        [class.hide-on-print]="header.hideOnPrint"\r\n                        class="filter">\r\n                <span *ngIf="header.filter === undefined">&nbsp;</span>\r\n                <input  *ngIf="header.filter !== undefined"\r\n                        id="filter-{{i}}"\r\n                        type="text" \r\n                        (keyup)="changeFilter($event, header)"\r\n                        [value]="header.filter ? header.filter : \'\'" />\r\n                <label *ngIf="header.filter !== undefined" for="filter-{{i}}" ><span class="off-screen" >Filter "{{header.value}}"</span><span class="fa fa-search"></span></label>\r\n            </td>\r\n            <td scope="row" *ngIf="action && !printMode" class="hide-on-print"></td>\r\n        </tr>\r\n       <ng-template ngFor let-item [ngForOf]="printMode ? items: filteredItems" let-i="index">\r\n            <tr (click)="actionClick($event, item)"\r\n                (mouseover)="hover(item, true)"\r\n                (mouseout)="hover(item, false)"\r\n                [class.pointer]="action"\r\n                [class.hover]="item.hover"\r\n                [class.expanded]="item.expanded"\r\n                [class.odd]="i%2">\r\n                <td scope="row" class="index hide-on-print" *ngIf="enableIndexing && !printMode">\r\n                    <span [textContent]="i + pageInfo.from + 1"></span>\r\n                </td>\r\n                <td scope="row" \r\n                    *ngFor="let header of headers" \r\n                    [class]="toCssClass(header)"\r\n                    [class.hide-on-print]="header.hideOnPrint"\r\n                    [attr.data-label]="header.value" \r\n                    [intoName]="header.value"\r\n                    [intoId]="header.key + \'-\' + i"\r\n                    [into]="header.format"\r\n                    [intoData]="item"\r\n                    [rawContent]="cellContent(item, header)"\r\n                    [onComponentChange]="onTableCellEdit.bind(this)"></td>\r\n                <td scope="row" *ngIf="action && !printMode" class="hide-on-print">\r\n                    <a class="actionable"\r\n                        *ngIf="expandable(item, true)"\r\n                        tabindex="0"\r\n                        role="button"\r\n                        style="cursor:pointer"\r\n                        [class.expanded]="item.expanded" #clicker\r\n                        (keydown)="keydown($event, clicker)" (click)="actionClick($event, item)">\r\n                        <span\r\n                            class="icon fa"\r\n                            [class.fa-angle-right]="!rowDetailer"\r\n                            [class.fa-minus-square-o]="rowDetailer && item.expanded"\r\n                            [class.fa-plus-square-o]="rowDetailer && !item.expanded"\r\n                            aria-hidden="true"></span>\r\n                        <span class="off-screen" [textContent]="offScreenMessage(item)"></span>\r\n                    </a>\r\n                </td>\r\n            </tr>\r\n            <tr *ngIf="rowDetailer && item.expanded" class="detail" [class.odd]="i%2">\r\n                <td scope="row" class="index" *ngIf="enableIndexing && !printMode"></td>\r\n                <td [attr.colspan]="columnsCount()">\r\n                    <ng-container [ngTemplateOutlet]="rowDetailer" [ngTemplateOutletContext]="rowDetailerContext(item)"></ng-container>\r\n                </td>\r\n            </tr>\r\n        </ng-template>\r\n    </tbody>\r\n</table>\r\n',styles:[":host{display:inline-block!important;width:100%;position:relative;margin:0 auto;border-spacing:0;border-collapse:collapse}:host .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}:host table{margin:1rem auto;padding:0;width:100%;table-layout:fixed;max-width:99%;background-color:transparent;border-collapse:collapse}:host table caption{background-color:#c3e5e2;border-radius:2px;color:#1b1b1b;caption-side:top;font-size:14px;padding:5px 6px;margin-bottom:15px;text-align:left}:host table thead{border-top:1px solid #bbb;border-bottom:1px solid #bbb;background-color:#eee}:host table tr{border:0}:host table tr.expanded td{font-weight:700}:host table td{padding-left:3px;min-height:21px;overflow:hidden}:host table td span:first-child{min-height:21px;display:block}:host table td:first-child{padding-left:5px}:host table td ::ng-deep input-component .locked,:host table td ::ng-deep input-component input{width:99%}:host table td .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}:host table td.filter{padding:0;position:relative}:host table td.filter input{box-sizing:border-box;width:100%;margin:0}:host table td.filter .fa{position:absolute;top:4px;right:2px;color:#bad}:host table td ::ng-deep img{height:24px}:host table td.index{background-color:#eee;border-right:1px solid #bbb}:host table td.index span{padding:1px 0}:host table th{cursor:default;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none;height:24px;position:relative;white-space:nowrap;font-weight:400;text-transform:uppercase;font-size:14px;padding-top:6px;padding-bottom:6px;text-align:left;padding-left:5px}:host table th.drag-over{background-color:#9b9b9b}:host table th.drag-over .icon,:host table th.drag-over .title{color:#eee}:host table th:first-child{padding-left:5px}:host table th.distict{border-right:1px solid #ccc}:host table th.distict:last-child{border-right:0}:host table th.ascending,:host table th.descending,:host table th.sortable{cursor:pointer;min-height:12px}:host table th.indexable{width:33px}:host table th.actionable{width:24px}:host table th .hidden{display:none}:host table th .title{color:#254a4d;display:inline-block;height:20px;float:left;width:calc(90% - 22px)!important;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host table th .title.dragable{width:auto}:host table th .title.lockable{width:calc(90% - 46px)!important}:host table th .dragable{cursor:move}:host table th .icon{width:22px;display:inline-block;height:20px;color:#254a4d;float:right}:host table th .locker{float:left}:host .fa.fa-angle-right{font-size:18px}table tr.expanded td{border-bottom:0}table tr.detail td{border-top:0;cursor:default}table tr.expanded td a.expanded{background-position:right 2px}table tbody tr.hover,table tbody tr:hover{background-color:#ffeed2}table tbody tr.detail.hover,table tbody tr.detail.hover td table thead tr,table tbody tr.detail:hover,table tbody tr.detail:hover td table thead tr{background-color:inherit}table tr td a.actionable{color:#254a4d}table tr td a.actionable .icon{line-height:22px;text-align:right}table tbody tr.detail.hover td:last-child,table tbody tr.detail:hover td:last-child{border-right:0}table tbody tr.detail.hover td:first-child,table tbody tr.detail:hover td:first-child{border-left:0}table tr td{border-bottom:1px solid #b1b3b3;color:#254a5d;font-size:15px;text-transform:capitalize}table tbody tr.pointer{cursor:pointer}table.alert-danger{border:0}table.alert-danger caption{background-color:transparent;font-weight:700;margin-bottom:0}table.alert-danger td{border-bottom:0;display:block}table.alert-danger td:first-child{padding-left:0}table.alert-danger td:last-child{border-bottom:0}table.alert-danger td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase;width:40%;text-align:left;overflow:hidden;text-overflow:ellipsis}table.alert-danger td a span.icon{width:100%}table.alert-danger thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}table.alert-danger tr{border:2px solid #fff;display:block;margin-bottom:.625em;padding:5px;border-radius:5px}table.alert-danger tr th.actionable{width:inherit}table.alert-danger tr td{border-bottom:0}@media print{table td,table th{text-align:left}table td .icon,table th .icon{display:none!important}table td.hide-on-print,table th.hide-on-print,table tr.hide-on-print{display:none}}@media screen and (max-width:600px){table{border:0}table th.indexable{display:none}table td{border-bottom:0;display:block;text-align:right}table td.index{display:none}table td:first-child{padding-left:0}table td:last-child{border-bottom:0}table td.filter input{width:50%!important}table td.filter .fa{right:7px!important}table td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}table td a span.icon{width:100%}table td ::ng-deep .into{float:right!important}table td ::ng-deep .into .calendar{margin-right:0}table td ::ng-deep .into .popper{margin-right:0}table thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}table tr{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}table tr th.actionable{width:inherit}table tr td{border-bottom:0}table.alert-danger td:before{width:inherit}}"]})],e)}(),g=function(){function e(e,n){this.generator=e,this.renderer=n,this.holdlocked=!1,this.holdunlocked=!1,this.filteredItems=[],this.vocabulary={configureTable:"Configure Table",configureColumns:"Configure Columns",clickSort:"Click to Sort",setSize:"Set Size",firstPage:"First",lastPage:"Last",previousPage:"Previous"},this.headerSeparation=!0,this.tableClass="default-flexible-table",this.inlinePagination=!1,this.onaction=new t.EventEmitter,this.onCellContentEdit=new t.EventEmitter,this.onfilter=new t.EventEmitter,this.onconfigurationchange=new t.EventEmitter}return e.prototype.scroll=function(e){this.renderer.setElementStyle(this.lockedTable.el.nativeElement,"left",e.target.scrollLeft+"px")},e.prototype.ngOnChanges=function(e){var t=this;if(e.items){var n=[];this.items.map((function(e){var i=Object.assign({},e);t.headers.map((function(e){if(e.format){var t=i[e.key];if(t&&"string"==typeof t){var n=e.format.split(":");"calendar"===n[0]?i[e.key]=Date.parse(t):"date"===n[0]?i[e.key]=Date.parse(t):"number"===n[0]?i[e.key]=n.length>2?parseFloat(t):parseInt(t,10):"currency"===n[0]&&(i[e.key]=parseFloat(t.replace(/[^0-9\.-]+/g,"")))}}})),n.push(i)})),this.formeditems=n}},e.prototype.ngOnInit=function(){if(this.pageInfo?this.pageInfo.to||(this.pageInfo.to=this.pageInfo.pageSize):this.pageInfo={contentSize:1e5,pageSize:1e5,pages:1,from:0,to:1e5,currentPage:1,maxWidth:"0"},this.persistenceKey){var e=this.generator.retreiveHeaders(this.persistenceKey,this.persistenceId);e&&(this.headers=e)}this.headers||(this.headers=this.generator.generateHeadersFor(this.items[0],"",5,this.enableFiltering),this.persistenceKey&&this.generator.persistHeaders(this.persistenceKey,this.persistenceId,this.headers)),this.filteredItems=this.formeditems?this.formeditems:this.items,this.pageInfo.contentSize=this.items.length,this.reconfigure(this.headers)},e.prototype.evaluatePositioning=function(){this.renderer.setElementStyle(this.unlockedTable.el.nativeElement,"margin-left",this.lockedTable.offsetWidth()+"px")},e.prototype.reconfigure=function(e){this.headers=e,this.lockedHeaders=this.headers.filter((function(e){return!0===e.locked&&e.present})),this.unlockedHeaders=this.headers.filter((function(e){return!0!==e.locked&&e.present})),this.onconfigurationchange.emit(e),this.persistenceKey&&this.generator.persistHeaders(this.persistenceKey,this.persistenceId,this.headers),setTimeout(this.evaluatePositioning.bind(this),111)},e.prototype.onlock=function(e){this.lockedHeaders=this.headers.filter((function(e){return!0===e.locked&&e.present})),this.unlockedHeaders=this.headers.filter((function(e){return!0!==e.locked&&e.present})),this.onconfigurationchange.emit(e),this.persistenceKey&&this.generator.persistHeaders(this.persistenceKey,this.persistenceId,this.headers),setTimeout(this.evaluatePositioning.bind(this),111)},e.prototype.changeLockedTableFilteredItems=function(e){this.lockedTable&&!this.holdlocked&&(this.lockedTable.filteredItems=e,this.lockedTable.initVisibleRows(null)),this.holdlocked=!1},e.prototype.changeUnlockedTableFilteredItems=function(e){this.unlockedTable&&!this.holdunlocked&&(this.unlockedTable.filteredItems=e,this.unlockedTable.initVisibleRows(null)),this.holdunlocked=!1},e.prototype.onPaginationChange=function(e){this.pageInfo=e,this.holdlocked=!0,this.holdunlocked=!0,this.lockedTable.evaluateRows(),this.unlockedTable.evaluateRows()},e.prototype.tableAction=function(e){this.onaction.emit(e)},e.prototype.onDrop=function(e){},e.prototype.onCellEdit=function(e){this.onCellContentEdit.emit(e)},e.prototype.onTableFilter=function(e){this.onfilter.emit(e)},e.ctorParameters=function(){return[{type:r},{type:t.Renderer}]},o([t.Input("vocabulary")],e.prototype,"vocabulary",void 0),o([t.Input()],e.prototype,"headerSeparation",void 0),o([t.Input("persistenceId")],e.prototype,"persistenceId",void 0),o([t.Input("persistenceKey")],e.prototype,"persistenceKey",void 0),o([t.Input()],e.prototype,"caption",void 0),o([t.Input()],e.prototype,"action",void 0),o([t.Input()],e.prototype,"actionKeys",void 0),o([t.Input()],e.prototype,"tableClass",void 0),o([t.Input()],e.prototype,"headers",void 0),o([t.Input()],e.prototype,"items",void 0),o([t.Input()],e.prototype,"inlinePagination",void 0),o([t.Input()],e.prototype,"pageInfo",void 0),o([t.Input()],e.prototype,"tableInfo",void 0),o([t.Input()],e.prototype,"configurable",void 0),o([t.Input()],e.prototype,"configAddon",void 0),o([t.Input()],e.prototype,"enableFiltering",void 0),o([t.Input()],e.prototype,"enableIndexing",void 0),o([t.Input()],e.prototype,"filterwhiletyping",void 0),o([t.Output()],e.prototype,"onaction",void 0),o([t.Output()],e.prototype,"onCellContentEdit",void 0),o([t.Output()],e.prototype,"onfilter",void 0),o([t.Output()],e.prototype,"onconfigurationchange",void 0),o([t.ViewChild("lockedTable",{static:!1})],e.prototype,"lockedTable",void 0),o([t.ViewChild("unlockedTable",{static:!1})],e.prototype,"unlockedTable",void 0),e=o([t.Component({selector:"lock-table",template:'<div class="caption">\n\t<table-configuration\n\t\t*ngIf="configurable" \n\t\t[headers]="headers" \n\t\t[title]="vocabulary.configureColumns" \n\t\t[action]="vocabulary.configureTable"\n\t\t[configAddon]="configAddon"\n\t\t(onchange)="reconfigure($event)"></table-configuration>\n\n\t<div *ngIf="caption" [textContent]="caption"></div>\n</div>\n<div class="smart-table-wrap" (scroll)="scroll($event)">\n\t<table-view #lockedTable\n\t\tclass="locked-table"\n\t\tlockable="true"\n\t\t[headers]="lockedHeaders" \n\t\t[items]="filteredItems" \n        [pageInfo]="pageInfo"\n        [vocabulary]="vocabulary"\n        [filterwhiletyping]="filterwhiletyping"\n\t\t[enableFiltering]="enableFiltering"\n\t\t[enableIndexing]="enableIndexing"\n\t\t[headerSeparation]="headerSeparation"\n\n\t\t(onchange)="onlock($event)"\n\t\t(onDrop)="onDrop($event)"\n        (onfilter)="onTableFilter($event)"\n\t\t(onCellContentEdit)="onCellEdit($event)"\n\t\t(onfilter)="changeUnlockedTableFilteredItems($event)"\n\t\t(onaction)="tableAction($event)"></table-view>\n\n    <table-view #unlockedTable\n\t\tclass="unlocked-table"\n\t\tlockable="true"\n\t\t[headers]="unlockedHeaders" \n\t\t[items]="filteredItems" \n        [pageInfo]="pageInfo"\n        [vocabulary]="vocabulary"\n        [filterwhiletyping]="filterwhiletyping"\n\t\t[enableFiltering]="enableFiltering"\n\t\t[headerSeparation]="headerSeparation"\n\n\t\t(onDrop)="onDrop($event)"\n        (onfilter)="onTableFilter($event)"\n\t\t(onchange)="onlock($event)"\n\t\t(onCellContentEdit)="onCellEdit($event)"\n\t\t(onfilter)="changeLockedTableFilteredItems($event)"\n\t\t(onaction)="tableAction($event)"></table-view>\n\t\n</div>\n<table-pagination #pager\n\t[info]="pageInfo" \n    [inline]="inlinePagination" \n\t[vocabulary]="vocabulary" \n    (onchange)="onPaginationChange($event)"></table-pagination>\n',styles:[":host{width:100%;position:relative;margin:0 auto;display:table}:host .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}:host .caption{background-color:#c3e5e2;border-radius:2px;box-sizing:border-box;color:#1b1b1b;caption-side:top;font-size:14px;margin-bottom:15px;padding:5px 6px;text-align:left;width:100%}:host .caption table-configuration{display:inline-block;float:right;position:unset}:host .smart-table-wrap{border-spacing:0;border-collapse:collapse;border-right:1px solid #aaa;border-bottom:1px solid #aaa;box-sizing:border-box;width:100%;position:relative;overflow-x:auto}:host .smart-table-wrap .unlocked-table ::ng-deep table{max-width:100%;margin-bottom:0;margin-top:0}:host .smart-table-wrap .unlocked-table ::ng-deep table th td{white-space:nowrap}:host .smart-table-wrap .unlocked-table ::ng-deep table th .locker{cursor:pointer;color:#00925b;text-align:center}:host .smart-table-wrap .unlocked-table ::ng-deep table tbody tr{background-color:#fff}:host .smart-table-wrap .unlocked-table ::ng-deep table tbody tr.hover,:host .smart-table-wrap .unlocked-table ::ng-deep table tbody tr:hover{background-color:#ffeed2}:host .smart-table-wrap .unlocked-table ::ng-deep table img{height:14px}:host .smart-table-wrap .locked-table{position:absolute;margin:0 auto;display:inline-table;border-spacing:0;border-collapse:collapse;float:left;z-index:2;width:auto}:host .smart-table-wrap .locked-table ::ng-deep table{display:inline-block;border-right:1px solid #aaa;margin:0;width:auto}:host .smart-table-wrap .locked-table ::ng-deep table th td{white-space:nowrap}:host .smart-table-wrap .locked-table ::ng-deep table th .locker{cursor:pointer;color:#8b0224;text-align:center}:host .smart-table-wrap .locked-table ::ng-deep table tbody tr{background-color:#fff}:host .smart-table-wrap .locked-table ::ng-deep table tbody tr.hover,:host .smart-table-wrap .locked-table ::ng-deep table tbody tr:hover{background-color:#ffeed2}:host .smart-table-wrap .locked-table ::ng-deep table img{height:14px}@media screen and (max-width:600px){.smart-table-wrap{border:0!important;position:unset;overflow-x:unset}.smart-table-wrap .unlocked-table{margin-left:0!important;position:unset!important}.smart-table-wrap .unlocked-table ::ng-deep table td,.smart-table-wrap .unlocked-table ::ng-deep table th{white-space:unset}.smart-table-wrap .unlocked-table ::ng-deep table img{height:30px}.smart-table-wrap .locked-table{position:unset!important;margin:0!important;display:table;left:0!important}.smart-table-wrap .locked-table ::ng-deep table{display:table!important;margin:0!important;width:100%!important}.smart-table-wrap .locked-table ::ng-deep table td,.smart-table-wrap .locked-table ::ng-deep table th{white-space:unset}.smart-table-wrap .locked-table ::ng-deep table td.index{border-right:0}.smart-table-wrap .locked-table ::ng-deep table img{height:30px}}"]})],e)}(),u=function(){function e(){}return e=o([t.NgModule({imports:[n.CommonModule,h,i.IntoPipeModule],declarations:[a,g,b,c,f],exports:[a,g],entryComponents:[],providers:[r],schemas:[t.CUSTOM_ELEMENTS_SCHEMA]})],e)}();e.FlexibleTableComponent=a,e.FlexibleTableModule=u,e.a=f,e.b=r,e.c=h,e.d=s,e.e=l,e.f=d,e.g=p,e.h=g,e.i=b,e.j=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sedeh-flexible-table.umd.min.js.map