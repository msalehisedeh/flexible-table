{"version":3,"sources":["ng://flexible-showcase/src/app/flexible-showcase/flexible-showcase.component.ts","ng://flexible-showcase/src/app/flexible-showcase/flexible-showcase-module.ts"],"names":["FlexibleShowcaseComponent","EventEmitter","prototype","ngAfterContentInit","this","selectedIndex","thumbnails","selected","selectedItem","paginate","length","width","ngOnChanges","changes","position","slider","translatedPosition","nativeElement","style","transform","hoverOver","event","item","zoomOnHover","target","nodeName","fireTrackingEvent","title","thumbnailId","hoverOut","largeImage","opacity","top","left","hoverViewPort","layerY","layerX","shiftDisplay","toEnd","enableEventTracking","onEventTracking","emit","productId","action","time","Date","keyup","which","click","videoPlayed","trackingTime","videoPaused","videoEnded","hoverTab","i","onhover","peekOnHover","hoverItem","selectTab","map","tab","name","id","track","currentTime","Component","args","selector","template","ViewChild","Input","Output","FlexibleShowcaseModule","NgModule","imports","CommonModule","declarations","exports","entryComponents","providers","schemas","CUSTOM_ELEMENTS_SCHEMA"],"mappings":"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","sourcesContent":["\r\nimport {\r\n    Component,\r\n\tInput,\r\n\tOutput,\r\n\tAfterContentInit,\r\n\tElementRef,\r\n\tEventEmitter,\r\n\tViewChild,\r\n\tOnChanges\r\n} from '@angular/core';\r\n\r\n\r\n@Component({\r\n\tselector: 'showcase',\r\n\ttemplateUrl: './flexible-showcase.component.html',\r\n\tstyleUrls: ['./flexible-showcase.component.scss']\r\n})\r\nexport class FlexibleShowcaseComponent implements AfterContentInit, OnChanges  {\r\n\tprivate translatedPosition = 0;\r\n\tselectedIndex = 0;\r\n\tselectedItem: any;\r\n\thoverItem: any;\r\n\tpaginate = false;\r\n\r\n\t@ViewChild(\"largeImage\")\r\n\tprivate largeImage: ElementRef;\r\n\r\n\t@ViewChild(\"slider\")\r\n\tprivate slider: ElementRef;\r\n\r\n    @Input(\"position\")\r\n    public position: string; // top, left, bottom, right\r\n\r\n\t@Input(\"width\")\r\n    public width: number;\r\n\r\n\t@Input(\"height\")\r\n    public height: number;\r\n\r\n\t@Input(\"productId\")\r\n    public productId: string;\r\n\t\r\n    @Input(\"zoomOnHover\")\r\n    public zoomOnHover = false\r\n\r\n    @Input(\"peekOnHover\")\r\n    public peekOnHover = false\r\n\r\n    @Input(\"enableEventTracking\")\r\n    public enableEventTracking = false\r\n\r\n    @Input(\"thumbnails\")\r\n    public thumbnails: any[];\r\n\r\n    @Input(\"message\")\r\n    public message = \"click to select \";\r\n\r\n\t@Output('onEventTracking')\r\n\tprivate onEventTracking = new EventEmitter();\r\n\r\n    constructor() {}\r\n\r\n\tngAfterContentInit() {\r\n\t\tthis.selectedIndex = 0;\r\n\t\tthis.thumbnails[0].selected = true;\r\n\t\tthis.selectedItem = this.thumbnails[0];\r\n\t\tthis.paginate = (this.thumbnails.length * 60) > this.width;\r\n\t}\r\n\tngOnChanges(changes) {\r\n\t\tif (changes.position && this.slider) {\r\n\t\t\tthis.translatedPosition = 0;\r\n\t\t\tthis.slider.nativeElement.style.transform = \"translate(0px,0px)\";\r\n\t\t}\r\n\t}\r\n\thoverOver(event, item) {\r\n\t\tif (this.zoomOnHover && event.target.nodeName === 'IMG') {\r\n\t\t\tthis.fireTrackingEvent(item.title, item.thumbnailId, \"zoomed\");\r\n\t\t}\r\n\t}\r\n\thoverOut(event) {\r\n\t\tif (this.largeImage) {\r\n\t\t\tthis.largeImage.nativeElement.style.opacity = 0;\r\n\t\t\tthis.largeImage.nativeElement.style.top = \"-10000px\";\r\n\t\t\tthis.largeImage.nativeElement.style.left = \"-10000px\";\r\n\t\t}\r\n\t}\r\n\thoverViewPort(event) {\r\n\t\tif (this.zoomOnHover && event.target.nodeName === 'IMG') {\r\n\t\t\tthis.largeImage.nativeElement.style.opacity = 1;\r\n\t\t\tthis.largeImage.nativeElement.style.top = -event.layerY + \"px\";\r\n\t\t\tthis.largeImage.nativeElement.style.left = -event.layerX + \"px\";\r\n\t\t}\r\n\t}\r\n\tshiftDisplay(position, toEnd) {\t\t\r\n\t\tif (position === \"top\" || position === \"bottom\") {\r\n\t\t\tthis.translatedPosition += (toEnd ? -60 : 60);\r\n\t\t\tthis.translatedPosition = this.translatedPosition > 0 ? 0 : this.translatedPosition;\r\n\t\t\tthis.slider.nativeElement.style.transform = \"translateX(\" + this.translatedPosition + \"px)\";\r\n\t\t} else {\r\n\t\t\tthis.translatedPosition += (toEnd ? -60 : 60);\r\n\t\t\tthis.translatedPosition = this.translatedPosition > 0 ? 0 : this.translatedPosition;\r\n\t\t\tthis.slider.nativeElement.style.transform = \"translateY(\" + this.translatedPosition + \"px)\";\r\n\t\t}\r\n\r\n\t\tif (this.enableEventTracking) {\r\n\t\t\tthis.onEventTracking.emit({\r\n\t\t\t\tproductId: this.productId,\r\n\t\t\t\taction: \"thombnail shift\",\r\n\t\t\t\ttime: new Date()\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tkeyup(event) {\r\n        const code = event.which;\r\n\t\t\r\n\t\tif (code === 13) {\r\n\t\t\tevent.target.click();\r\n\t\t}\r\n\t}\r\n\tvideoPlayed(item, trackingTime) {\r\n\t\tthis.fireTrackingEvent(\r\n\t\t\titem.title,\r\n\t\t\titem.thumbnailId,\r\n\t\t\t\"play-video\",\r\n\t\t\ttrackingTime\r\n\t\t);\r\n\t}\r\n\tvideoPaused(item, trackingTime) {\r\n\t\tthis.fireTrackingEvent(\r\n\t\t\titem.title,\r\n\t\t\titem.thumbnailId,\r\n\t\t\t\"pause-video\",\r\n\t\t\ttrackingTime\r\n\t\t);\r\n\t}\r\n\tvideoEnded(item, trackingTime) {\r\n\t\tthis.fireTrackingEvent(\r\n\t\t\titem.title,\r\n\t\t\titem.thumbnailId,\r\n\t\t\t\"end-video\",\r\n\t\t\ttrackingTime\r\n\t\t);\r\n\t}\r\n\thoverTab(i, onhover) {\r\n\t\tif (this.peekOnHover) {\r\n\t\t\tthis.hoverItem = this.thumbnails[i];\r\n\t\t}\r\n\t\tthis.fireTrackingEvent(\r\n\t\t\tthis.thumbnails[i].title,\r\n\t\t\tthis.thumbnails[i].thumbnailId,\r\n\t\t\tonhover ? \"hover\" : \"focus\"\r\n\t\t);\r\n\t}\r\n\tselectTab(i) {\r\n\t\tthis.thumbnails.map((tab)=>{\r\n\t\t\ttab.selected = false;\r\n\t\t});\r\n\t\tthis.selectedIndex = i;\r\n\t\tthis.thumbnails[i].selected = true;\r\n\t\tthis.selectedItem = this.thumbnails[i];\r\n\t\tthis.fireTrackingEvent(\r\n\t\t\tthis.thumbnails[i].title,\r\n\t\t\tthis.thumbnails[i].thumbnailId,\r\n\t\t\t\"select\"\r\n\t\t);\r\n\t}\r\n\tprivate fireTrackingEvent(name, id, event, track?) {\r\n\t\tif (this.enableEventTracking) {\r\n\t\t\tif (track) {\r\n\t\t\t\tthis.onEventTracking.emit({\r\n\t\t\t\t\tproductId: this.productId,\r\n\t\t\t\t\tthumbnailId: id,\r\n\t\t\t\t\taction: event,\r\n\t\t\t\t\ttitle: name,\r\n\t\t\t\t\tcurrentTime: track,\r\n\t\t\t\t\ttime: new Date()\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.onEventTracking.emit({\r\n\t\t\t\t\tproductId: this.productId,\r\n\t\t\t\t\tthumbnailId: id,\r\n\t\t\t\t\taction: event,\r\n\t\t\t\t\ttitle: name,\r\n\t\t\t\t\ttime: new Date()\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","/*\r\n* Provides rendering of flexible tabs in a lazy load fashion.\r\n*/\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FlexibleShowcaseComponent } from './flexible-showcase.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        FlexibleShowcaseComponent\r\n    ],\r\n    exports: [\r\n        FlexibleShowcaseComponent\r\n    ],\r\n    entryComponents: [\r\n    ],\r\n    providers: [\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class FlexibleShowcaseModule {}\r\n"]}